<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <!-- SEO الأساسي -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Switches - سويتشز | متجر قطع الكمبيوتر</title>
  <meta name="description" content="متجر سويتشز هو متجر إلكتروني لبيع قطع الكمبيوتر، الإلكترونيات، والإكسسوارات.">

  <!-- الكلمات المفتاحية -->
  <meta name="keywords" content="قطع كمبيوتر, متجر كمبيوتر, كيبورد, فأرة, تجميع PC, إكسسوارات كمبيوتر, Computer parts">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://web.whatsapp.com/ea260071-51d7-4c25-8ea8-7ac04e0c8d59">

  <!-- Open Graph Meta Tags for Social Media Sharing -->
  <meta property="og:title" content="Switches - سويتشز">
  <meta property="og:description" content="متجر سويتشز هو متجر إلكتروني لبيع قطع الكمبيوتر، الإلكترونيات، والإكسسوارات.">
  <meta property="og:image" content="https://imgur.com/undefined">
  <meta property="og:url" content="https://www.switches-store.ly/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Switches - سويتشز">
  <meta property="og:locale" content="ar_AR">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Switches - سويتشز">
  <meta name="twitter:description" content="متجر سويتشز هو متجر إلكتروني لبيع قطع الكمبيوتر، الإلكترونيات، والإكسسوارات.">
  <meta name="twitter:image" content="https://i.imgur.com/VSRAicN.jpeg">
  <meta name="twitter:site" content="@switches">

  <link rel="icon" type="image/png" href="images/favicon.png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>سويتشز - متجر الكمبيوتر المتميز</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <!-- Add EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <!-- Add Swiper CSS for Image Slider -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  <style>
    /* إطار صور حقيقي */
.bottom-image-item {
  flex: 0 0 auto;
  width: 180px;
  height: 120px;
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  position: relative;
  
  /* خلفية بيضاء مع ملمس */
  background: 
    linear-gradient(to bottom, #ffffff 0%, #f9f9f9 100%),
    repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(255,255,255,0.3) 2px, rgba(255,255,255,0.3) 4px);
  
  /* ظل ثلاثي الأبعاد */
  box-shadow: 
    0 5px 15px rgba(0,0,0,0.08),
    0 0 0 1px rgba(0,0,0,0.05),
    inset 0 0 20px rgba(0,0,0,0.02);
  
  transition: all 0.3s ease;
  padding: 12px;
}

/* إطار داخلي أبيض سميك */
.bottom-image-item::before {
  content: '';
  position: absolute;
  top: 6px;
  left: 6px;
  right: 6px;
  bottom: 6px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 4px;
  z-index: 1;
  pointer-events: none;
}

.bottom-image-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 3px;
  position: relative;
  z-index: 2;
  
  /* تأثير صورة ورقية */
  box-shadow: 
    inset 0 0 10px rgba(0,0,0,0.1),
    0 1px 3px rgba(0,0,0,0.1);
  
  /* تدرج لطيف */
  background: linear-gradient(to bottom, rgba(255,255,255,0.3) 0%, rgba(0,0,0,0.1) 100%);
}

.bottom-image-item:hover {
  transform: translateY(-5px) rotate(1deg);
  box-shadow: 
    0 10px 25px rgba(0,0,0,0.15),
    0 0 0 1px rgba(0,0,0,0.08),
    inset 0 0 25px rgba(0,0,0,0.03);
}

.bottom-image-item:hover::before {
  background: rgba(255, 255, 255, 0.9);
}
    :root {
      --bg: #f8f9fa;
      --text: #212529;
      --card: #ffffff;
      --primary: #0d6efd;
      --border: #dee2e6;
      --logo-color: #3f0f4e;
      --logo-size: 2rem;
      --logo-font: 'Segoe UI', sans-serif;
      --logo-weight: bold;
      --logo-style: normal;
      --background-image: url('https://m.media-amazon.com/images/I/71PfpmveSqL._AC_SL1500_.jpg');
      --background-opacity: 0.15;
      --background-blur: 0px;
      --background-scale: 1;
      --background-brightness: 1;
      --rgb-intensity: 0.7;
      --banner-image: url('https://m.media-amazon.com/images/I/81Smi3twk5L.jpg'); /* إضافة صورة البانر */
    }
    [data-theme="dark"] {
      --bg: #121212;
      --text: #e0e0e0;
      --logo-color: #a29fc9;
      --card: #1e1e1e;
      --primary: #0d6efd;
      --border: #333;
      --background-opacity: 0.25;
      --background-brightness: 0.8;
      --rgb-intensity: 0.8;
    }
    
    /* إضافة الخلفية المخصصة */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: var(--background-image);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      opacity: var(--background-opacity);
      filter: blur(var(--background-blur)) brightness(var(--background-brightness));
      transform: scale(var(--background-scale));
      z-index: -1;
      pointer-events: none;
    }
    
    /* إضافة صورة البانر العريضة أعلى الموقع */
    .top-banner {
      width: 100%;
      height: 300px;
      background-image: var(--banner-image);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      position: relative;
      margin-bottom: 2rem;
    }
    
    .top-banner::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100px;
      background: linear-gradient(to bottom, transparent, var(--bg));
    }
    
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      transition: background 0.3s, color 0.3s;
      position: relative;
    }
    header {
      background: var(--card);
      padding: 1rem 5%;
      box-shadow: 0 2px10px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .logo-image {
      height: 40px;
      width: auto;
    }
    .logo { 
      font-size: var(--logo-size); 
      font-family: var(--logo-font);
      font-weight: var(--logo-weight);
      font-style: var(--logo-style);
      color: var(--logo-color); 
    }
    .theme-toggle {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0.5rem;
    }
    .container { max-width: 1400px; margin: 0 auto; padding: 2rem 5%; }
    
    /* NEW: Improved Horizontal Products Bars with arrows */
    .horizontal-section {
      margin: 3rem 0;
      position: relative;
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }
    
    .section-title {
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .section-title .fire-icon {
      color: #ff9900;
    }
    
    .section-title .discount-icon {
      color: #28a745;
    }
    
    .section-title .clock-icon {
      color: #17a2b8;
    }
    
    /* زر عرض جميع العروض المحسن */
    .view-all-btn {
      background: linear-gradient(135deg, var(--primary) 0%, #0b5cd7 100%);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 4px 15px rgba(13, 110, 253, 0.25);
      position: relative;
      overflow: hidden;
    }
    
    .view-all-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }
    
    .view-all-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(13, 110, 253, 0.35);
      background: linear-gradient(135deg, #0b5cd7 0%, var(--primary) 100%);
    }
    
    .view-all-btn:hover::before {
      left: 100%;
    }
    
    .view-all-btn i {
      transition: transform 0.3s ease;
    }
    
    .view-all-btn:hover i {
      transform: translateX(-5px);
    }
    
    /* NEW: Horizontal products container with arrows */
    .horizontal-products-wrapper {
      position: relative;
      width: 100%;
    }
    
    .horizontal-products-container {
      position: relative;
      width: 100%;
      overflow: hidden;
    }
    
    .horizontal-products-track {
      display: flex;
      gap: 1.5rem;
      overflow-x: auto;
      padding: 1rem 0;
      scroll-behavior: smooth;
      scrollbar-width: none; /* Hide scrollbar for Firefox */
      -ms-overflow-style: none; /* Hide scrollbar for IE/Edge */
      transition: transform 0.3s ease;
    }
    
    .horizontal-products-track::-webkit-scrollbar {
      display: none; /* Hide scrollbar for Chrome/Safari/Opera */
    }
    
    /* NEW: Navigation arrows */
    .nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: none;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      transition: all 0.3s ease;
      opacity: 0;
    }
    
    .horizontal-products-wrapper:hover .nav-arrow {
      opacity: 1;
    }
    
    .nav-arrow:hover {
      background: rgba(0, 0, 0, 0.9);
      transform: translateY(-50%) scale(1.1);
    }
    
    .nav-arrow.left {
      right: 10px;
    }
    
    .nav-arrow.right {
      left: 10px;
    }
    
    /* NEW: Product card design - taller version */
    .horizontal-product-card {
      flex: 0 0 auto;
      width: 250px;
      background: var(--card);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
      position: relative;
      height: 420px; /* Increased height */
      display: flex;
      flex-direction: column;
    }
    
    .horizontal-product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .horizontal-product-card img {
      width: 100%;
      height: 220px; /* Increased image height */
      object-fit: cover; /* Changed to cover for full image display */
    }
    
    .horizontal-product-info {
      padding: 1.2rem;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .horizontal-product-name {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      line-height: 1.3;
      height: 2.5rem;
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }
    
    .horizontal-product-price {
      font-size: 1.3rem;
      font-weight: bold;
      color: var(--primary);
      margin: 0.5rem 0;
    }
    
    .horizontal-product-old-price {
      text-decoration: line-through;
      color: #888;
      font-size: 0.9rem;
      margin-right: 0.5rem;
    }
    
    .horizontal-product-condition {
      font-size: 0.85rem;
      color: #666;
      margin-bottom: 0.5rem;
    }
    
    .horizontal-product-condition.new {
      color: green;
      font-weight: bold;
    }
    
    .horizontal-product-condition.used {
      color: red;
      font-weight: bold;
    }
    
    .horizontal-product-condition.open-box {
      color: blue;
      font-weight: bold;
    }
    
    /* Badges for discounted and coming soon products */
    .product-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #28a745;
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      z-index: 10;
    }
    
    .coming-soon-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #17a2b8;
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      z-index: 10;
    }
    
    /* Style for unavailable products - less opacity */
    .unavailable-product {
      opacity: 0.6;
      position: relative;
    }
    
    .unavailable-label {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(220, 53, 69, 0.9);
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      z-index: 10;
    }
    
    /* NEW: Bottom transparent image bar */
    .bottom-image-bar {
      margin: 4rem 0 2rem 0;
      padding: 1.5rem 0;
      background: transparent;
      position: relative;
      border-top: 1px solid rgba(0,0,0,0.1);
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    
    .bottom-bar-wrapper {
      position: relative;
      width: 100%;
    }
    
    .bottom-bar-track {
      display: flex;
      gap: 3rem;
      overflow-x: auto;
      padding: 0.5rem 0;
      scroll-behavior: smooth;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    
    .bottom-bar-track::-webkit-scrollbar {
      display: none;
    }
    
    .bottom-image-item {
      flex: 0 0 auto;
      width: 180px;
      height: 120px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }
    
    .bottom-image-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    
    .bottom-image-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .bottom-nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.6);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      transition: all 0.3s ease;
      opacity: 0;
    }
    
    .bottom-bar-wrapper:hover .bottom-nav-arrow {
      opacity: 1;
    }
    
    .bottom-nav-arrow:hover {
      background: rgba(0, 0, 0, 0.9);
      transform: translateY(-50%) scale(1.1);
    }
    
    .bottom-nav-arrow.left {
      right: 10px;
    }
    
    .bottom-nav-arrow.right {
      left: 10px;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .horizontal-product-card {
        width: 220px;
        height: 400px;
      }
      
      .horizontal-product-card img {
        height: 200px;
      }
      
      .section-title {
        font-size: 1.3rem;
      }
      
      .top-banner {
        height: 200px;
      }
      
      .view-all-btn {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
      }
      
      .nav-arrow {
        width: 36px;
        height: 36px;
        font-size: 1rem;
      }
      
      .bottom-image-item {
        width: 150px;
        height: 100px;
      }
    }
    
    @media (max-width: 480px) {
      .horizontal-product-card {
        width: 200px;
        height: 380px;
      }
      
      .horizontal-product-card img {
        height: 180px;
      }
      
      .bottom-image-item {
        width: 130px;
        height: 90px;
      }
      
      .nav-arrow {
        display: none; /* Hide arrows on very small screens */
      }
    }
    
    /* باقي الأنماط تبقى كما هي */
    /* Filters - keep as is */
    .filters {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
      background: var(--card);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      position: relative;
    }
    .search-container {
      grid-column: 1 / -1;
      display: flex;
      gap: 0.5rem;
    }
    .search-container input {
      flex: 1;
    }
    select, input, textarea { 
      padding: 0.8rem; 
      border: 1px solid var(--border); 
      border-radius: 8px; 
      background: var(--card); 
      color: var(--text); 
      font-family: inherit;
    }
    
    /* Features Section */
    .features-section {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }
    .feature-box {
      background: var(--card);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      text-align: center;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
      height: 110px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .feature-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.12);
    }
    .feature-icon {
      font-size: 2rem;
      color: var(--primary);
      margin-bottom: 0.8rem;
    }
    .feature-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }
    .feature-desc {
      color: #666;
      font-size: 0.85rem;
      line-height: 1.4;
    }
    
    /* باقي الأنماط تبقى كما هي */
    /* Image Slider Section */
    .image-slider-section {
      width: 100%;
      margin-bottom: 3rem;
    }
    .swiper {
      width: 100%;
      height: 350px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }
    .swiper-slide {
      position: relative;
    }
    .swiper-slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .slide-content {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
      color: white;
      padding: 2rem;
      text-align: center;
    }
    .slide-title {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    .slide-description {
      font-size: 1rem;
      opacity: 0.9;
    }
    .swiper-pagination-bullet {
      background: white !important;
      opacity: 0.7;
    }
    .swiper-pagination-bullet-active {
      opacity: 1;
    }
    .swiper-button-next,
    .swiper-button-prev {
      color: white !important;
      background: rgba(0,0,0,0.3);
      width: 40px !important;
      height: 40px !important;
      border-radius: 50%;
    }
    .swiper-button-next:after,
    .swiper-button-prev:after {
      font-size: 1.2rem !important;
    }
    
    /* باقي الأنماط تبقى كما هي */
    /* Products Grid - for all products page */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
      margin-top: 2rem;
    }
    @media (max-width: 1200px) {
      .products-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    @media (max-width: 900px) {
      .products-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    @media (max-width: 600px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    @media (max-width: 480px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
    }
    
    /* Product Card - for all products page */
    .product-card {
      background: var(--card);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
      position: relative;
      height: 400px; /* Increased height */
      display: flex;
      flex-direction: column;
    }
    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    .product-card img {
      width: 100%;
      height: 200px; /* Increased image height */
      object-fit: cover; /* Changed to cover */
    }
    .product-info {
      padding: 1rem;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .product-info h3 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      line-height: 1.3;
    }
    .product-info p {
      font-size: 0.85rem;
      margin-bottom: 0.5rem;
    }
    .price {
      font-size: 1.3rem;
      font-weight: bold;
      color: var(--primary);
      margin: 0.5rem 0;
    }
    .old-price {
      text-decoration: line-through;
      color: #888;
      font-size: 0.85rem;
      margin-right: 0.5rem;
    }
    .badge {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #28a745;
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      z-index: 10;
    }
    .cart-icon {
      position: relative;
      cursor: pointer;
      font-size: 1.8rem;
      transition: transform 0.3s;
    }
    .cart-icon:hover {
      transform: scale(1.1);
    }
    .cart-count {
      position: absolute;
      top: -8px;
      right: -10px;
      background: #dc3545;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* باقي الأنماط تبقى كما هي */
    /* NEW: All Products Page */
    .all-products-page {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    .all-products-page.active {
      display: block;
    }
    
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }
    
    .back-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background 0.3s;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .back-btn:hover {
      background: #0b5cd7;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Support Section */
    .support-section {
      margin: 4rem 0;
      background: var(--card);
      padding: 1rem;
      border-radius: 16px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
    }
    
    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: 0.3s;
      font-family: inherit;
      width: 100%;
      margin-top: auto;
    }
    .btn:hover { background: #0b5cd7; transform: translateY(-2px); }
    .btn-buy-now {
      background: #28a745;
    }
    .btn-buy-now:hover {
      background: #218838;
    }
    
    /* باقي الأنماط تبقى كما هي */
    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .modal.active {
      display: flex;
      opacity: 1;
    }
    .modal-content {
      background: var(--card);
      max-width: 90%;
      max-height: 90vh;
      border-radius: 16px;
      overflow: auto;
      position: relative;
      padding: 2rem;
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }
    .modal.active .modal-content {
      transform: translateY(0);
    }
    .cart-modal .modal-content {
      max-width: 95%;
      width: 1200px;
    }
    .close {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 2rem;
      cursor: pointer;
      color: #aaa;
      transition: color 0.3s;
      z-index: 10;
    }
    .close:hover { color: #000; }
    .gallery {
      display: flex;
      gap: 10px;
      margin: 1rem 0;
      overflow-x: auto;
      padding: 10px 0;
    }
    .gallery img {
      height: 80px;
      width: auto;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .gallery img:hover {
      transform: scale(1.05);
    }
    .gallery img.active {
      border: 2px solid var(--primary);
    }
    
    /* Product modal image */
    .modal-product-image {
      width: 100%;
      height: 400px;
      object-fit: contain;
      border-radius: 12px;
      margin-bottom: 1.5rem;
      background: var(--bg);
    }
    
    /* Specifications table */
    .specs-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      background: var(--card);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .specs-table th,
    .specs-table td {
      padding: 0.8rem 1rem;
      text-align: right;
      border-bottom: 1px solid var(--border);
    }
    .specs-table th {
      background: rgba(13, 110, 253, 0.1);
      font-weight: 600;
      color: var(--primary);
      width: 30%;
    }
    .specs-table tr:last-child td {
      border-bottom: none;
    }
    
    /* Customer Purchases Carousel */
    .purchases-carousel-container {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: var(--card);
      padding: 20px 0;
      box-shadow: 0 -5px 25px rgba(0,0,0,0.15);
      z-index: 999;
      transform: translateY(100%);
      transition: transform 0.7s ease;
      height: 130px;
      overflow: hidden;
    }
    
    .purchases-carousel-container.visible {
      transform: translateY(0);
    }
    
    .purchases-title {
      text-align: center;
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: var(--primary);
      font-weight: 600;
      padding: 0 20px;
    }
    
    .purchases-track {
      display: flex;
      width: calc(200px * 30);
      animation: infinite-scroll 90s linear infinite;
    }
    
    .purchases-track:hover {
      animation-play-state: paused;
    }
    
    .purchase-item {
      flex: 0 0 auto;
      width: 180px;
      margin: 0 10px;
      text-align: center;
      transition: transform 0.3s;
    }
    
    .purchase-item:hover {
      transform: translateY(-5px);
    }
    
    .purchase-item img {
      width: 100%;
      height: 90px;
      object-fit: cover;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.15);
      transition: transform 0.3s;
    }
    
    .purchase-item:hover img {
      transform: scale(1.05);
    }
    
    .purchase-item p {
      margin-top: 5px;
      font-size: 0.8rem;
      color: var(--text);
    }
    
    @keyframes infinite-scroll {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(calc(-200px * 15));
      }
    }
    
    /* Social Media Section */
    .social-media-section {
      margin: 2rem 0 3rem 0;
      text-align: center;
    }
    
    .social-media-section h3 {
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      color: var(--primary);
    }
    
    .social-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
    }
    
    .social-link {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-decoration: none;
      color: var(--text);
      transition: transform 0.3s, color 0.3s;
      width: 100px;
    }
    
    .social-link:hover {
      transform: translateY(-5px);
    }
    
    .social-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
      transition: all 0.3s;
    }
    
    .social-icon.facebook {
      background: #1877F2;
      color: white;
    }
    
    .social-icon.whatsapp {
      background: #25D366;
      color: white;
    }
    
    .social-icon.instagram {
      background: linear-gradient(45deg, #405DE6, #5B51D8, #833AB4, #C13584, #E1306C, #FD1D1D);
      color: white;
    }
    
    .social-link:hover .social-icon {
      transform: scale(1.1);
    }
    
    .social-name {
      font-size: 0.9rem;
      font-weight: 500;
    }
    
    footer {
      text-align: center;
      padding: 3rem;
      background: var(--card);
      margin-top: 4rem;
      border-top: 1px solid var(--border);
    }
    
    /* Cart styles */
    .cart-items-container {
      max-height: 500px;
      overflow-y: auto;
      padding-right: 10px;
    }
    .cart-item {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      padding: 1.5rem;
      border-bottom: 1px solid var(--border);
      transition: background 0.2s;
    }
    .cart-item:hover {
      background: rgba(0,0,0,0.03);
    }
    .cart-item-image {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .cart-item-details {
      flex: 1;
    }
    .cart-item-name {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    .cart-item-price {
      font-size: 1.1rem;
      color: var(--primary);
      font-weight: 600;
    }
    .cart-item-controls {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-top: 0.5rem;
    }
    .cart-item-qty {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .qty-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s;
    }
    .qty-btn:hover {
      background: #0b5cd7;
    }
    .qty-value {
      font-size: 1.1rem;
      font-weight: 600;
      min-width: 30px;
      text-align: center;
    }
    .cart-item-remove {
      background: #dc3545;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .cart-item-remove:hover {
      background: #c82333;
    }
    .cart-summary {
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 2px solid var(--border);
    }
    .cart-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.4rem;
      font-weight: 700;
    }
    .cart-actions {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .empty-cart {
      text-align: center;
      padding: 3rem;
      color: #888;
    }
    .empty-cart i {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }
    
    /* Add to cart animation */
    .add-to-cart-animation {
      position: fixed;
      pointer-events: none;
      z-index: 10000;
      transition: all 0.8s cubic-bezier(0.215, 0.61, 0.355, 1);
    }
    
    /* New styles for condition colors */
    .condition-new {
      color: green;
      font-weight: bold;
    }
    .condition-used {
      color: red;
      font-weight: bold;
    }
    .condition-open-box {
      color: blue;
      font-weight: bold;
    }
    
    /* RGB Border Effect */
    .rgb-border-wrapper {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: inherit;
      overflow: hidden;
      pointer-events: none;
    }
    
    .rgb-border {
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background-size: 400% 400%;
      animation: rgb-flow 15s linear infinite;
      border-radius: inherit;
      opacity: var(--rgb-intensity);
      z-index: -1;
    }
    
    @keyframes rgb-flow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    /* Order Modal */
    .order-modal-content {
      background: linear-gradient(135deg, var(--card) 0%, rgba(13, 110, 253, 0.05) 100%);
      border-radius: 20px;
      border: 1px solid rgba(13, 110, 253, 0.2);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
    }
    
    .order-modal-header {
      text-align: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid rgba(13, 110, 253, 0.2);
      position: relative;
    }
    
    .order-modal-header h2 {
      font-size: 1.8rem;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
    
    .order-modal-header p {
      color: #666;
      font-size: 0.9rem;
    }
    
    .order-form-group {
      margin-bottom: 1.5rem;
      position: relative;
    }
    
    .order-form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .order-form-group label i {
      color: var(--primary);
    }
    
    .order-form-group input,
    .order-form-group textarea {
      width: 100%;
      padding: 1rem;
      border: 2px solid var(--border);
      border-radius: 10px;
      background: var(--bg);
      color: var(--text);
      font-family: inherit;
      font-size: 1rem;
      transition: all 0.3s;
    }
    
    .order-form-group input:focus,
    .order-form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.2);
    }
    
    .phone-hint {
      font-size: 0.8rem;
      color: #e74c3c;
      margin-top: 0.3rem;
      font-weight: 500;
      background: rgba(231, 76, 60, 0.1);
      padding: 0.5rem;
      border-radius: 5px;
      border-right: 3px solid #e74c3c;
    }
    
    .order-submit-btn {
      background: linear-gradient(135deg, var(--primary) 0%, #0b5cd7 100%);
      color: white;
      border: none;
      padding: 1.2rem;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: 600;
      width: 100%;
      transition: all 0.3s;
      margin-top: 1rem;
    }
    
    .order-submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(13, 110, 253, 0.3);
      background: linear-gradient(135deg, #0b5cd7 0%, var(--primary) 100%);
    }
    
    .order-submit-btn i {
      margin-left: 0.5rem;
    }
  </style>
</head>
<body>

<header>
  <div class="logo-container">
    <img src="https://qwertyqop.com/cdn/shop/files/individualswitch.png?v=1698726047" alt="شعار سويتشز" class="logo-image">
    <div class="logo">سويتشز-Switches</div>
  </div>
  <div style="display:flex; align-items:center; gap:2rem;">
    <div class="cart-icon" id="cartIcon">
      <i class="fas fa-shopping-cart"></i>
      <span class="cart-count" id="cartCount">0</span>
    </div>
    <button class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></button>
  </div>
</header>

<!-- صورة البانر العريضة أعلى الموقع -->
<div class="top-banner"></div>

<!-- Main Page -->
<div class="container main-page" id="mainPage">
  <!-- Features Section -->
  <section class="features-section">
    <div class="feature-box">
      <div class="rgb-border-wrapper">
        <div class="rgb-border"></div>
      </div>
      <div class="feature-icon">
        <i class="fas fa-shipping-fast"></i>
      </div>
      <div class="feature-title">توصيل سريع لجميع المدن</div>
    </div>
    <div class="feature-box">
      <div class="rgb-border-wrapper">
        <div class="rgb-border"></div>
      </div>
      <div class="feature-icon">
        <i class="fas fa-map-marker-alt"></i>
      </div>
      <div class="feature-title">تغطية شاملة</div>
    </div>
    <div class="feature-box">
      <div class="rgb-border-wrapper">
        <div class="rgb-border"></div>
      </div>
      <div class="feature-icon">
        <i class="fas fa-headset"></i>
      </div>
      <div class="feature-title">دعم فني مجاني</div>
    </div>
    <div class="feature-box">
      <div class="rgb-border-wrapper">
        <div class="rgb-border"></div>
      </div>
      <div class="feature-icon">
        <i class="fas fa-award"></i>
      </div>
      <div class="feature-title">ضمان على القطع</div>
    </div>
  </section>

  <!-- Image Slider Section -->
  <section class="image-slider-section">
    <div class="swiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <img src="https://pcandparts.com/wp-content/uploads/asus_rog.jpg" alt="منتجات الكمبيوتر">
          <div class="slide-content">
            <h3 class="slide-title">أحدث قطع الكمبيوتر</h3>
            <p class="slide-description">اكتشف مجموعتنا المتميزة من أحدث المعالجات والكروت</p>
          </div>
        </div>
        <div class="swiper-slide">
          <img src="https://dlcdnwebimgs.asus.com/gain/DBBA29D7-A5AF-4074-ABC8-795718A78EC0/fwebp" alt="شاشات الألعاب">
          <div class="slide-content">
            <h3 class="slide-title">شاشات الألعاب الاحترافية</h3>
            <p class="slide-description">أداء عالي ودقة فائقة لتجربة ألعاب لا تُنسى</p>
          </div>
        </div>
        <div class="swiper-slide">
          <img src="https://currysprod.a.bigcontent.io/v1/static/razer-gaming-peripherals-header-img" alt="إكسسوارات الكمبيوتر">
          <div class="slide-content">
            <h3 class="slide-title">إكسسوارات متميزة</h3>
            <p class="slide-description">كل ما تحتاجه لتجهيز محطة العمل الخاصة بك</p>
          </div>
        </div>
        <div class="swiper-slide">
          <img src="https://m.media-amazon.com/images/I/71Tx4Y0oldL.jpg_BO30,255,255,255_UF900,850_SR1910,1000,0,C_PIRIOFOUR-medium,BottomLeft,30,-20_ZJPHNwYW4gZm9yZWdyb3VuZD0iIzU2NTk1OSIgZm9udD0iQW1hem9uRW1iZXIgNTAiID41Mzwvc3Bhbj4=,500,900,420,420,0,0_QL100_.jpg" alt="إكسسوارات إلكترونية">
          <div class="slide-content">
            <h3 class="slide-title">إكسسوارات إلكترونية</h3>
            <p class="slide-description">قطع إلكترونية عالية الجودة لتلبية جميع احتياجاتك </p>
          </div>
        </div>
      </div>
      <!-- Add Pagination -->
      <div class="swiper-pagination"></div>
      <!-- Navigation buttons -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
  </section>

  <!-- Filters -->
  <div class="filters">
    <div class="rgb-border-wrapper">
      <div class="rgb-border"></div>
    </div>
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="ابحث في المنتجات، الفئات، الماركات...">
      <button class="btn" id="searchBtn"><i class="fas fa-search"></i></button>
    </div>
    <select id="categoryFilter">
      <option value="">جميع الفئات</option>
      <option>المعالجات</option>
      <option>كروت الشاشة</option>
      <option>اللوحات الأم</option>
      <option>الذاكرة</option>
      <option>التخزين</option>
      <option>مزودات الطاقة</option>
      <option>لابتوبات</option>
      <option>الصناديق</option>
      <option>شاشات</option>
      <option>إكسسوارات</option>
    </select>
    <select id="brandFilter">
      <option value="">جميع الماركات</option>
      <option>Intel</option>
      <option>AMD</option>
      <option>NVIDIA</option>
      <option>Corsair</option>
      <option>Samsung</option>
      <option>ASUS</option>
      <option>HP</option>
      <option>Acer</option>
      <option>Lenovo</option>
      <option>LG</option>
      <option>MSI</option>
      <option>Gigabyte</option>
     <option>Apple</option>
     <option>LDON</option>
    </select>
    <select id="conditionFilter">
      <option value="">جميع الحالات</option>
      <option>جديد</option>
      <option>مستعمل</option>
      <option>علبة مفتوحة</option>
    </select>
    <select id="priceFilter">
      <option value="">السعر</option>
      <option value="low">من الأقل إلى الأعلى</option>
      <option value="high">من الأعلى إلى الأقل</option>
    </select>
  </div>

  <!-- Horizontal Products Bars -->
  
  <!-- 1. Most Selling Products -->
  <section class="horizontal-section">
    <div class="section-header">
      <h3 class="section-title"><i class="fas fa-fire fire-icon"></i> المنتجات الأكثر مبيعاً</h3>
      <button class="view-all-btn" onclick="showAllProducts('all')">
        <i class="fas fa-arrow-left"></i> عرض جميع العروض
      </button>
    </div>
    
    <div class="horizontal-products-wrapper">
      <button class="nav-arrow left" onclick="scrollHorizontal('mostSellingProductsTrack', 'left')">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="horizontal-products-container">
        <div class="horizontal-products-track" id="mostSellingProductsTrack">
          <!-- Most selling products will be loaded here by JavaScript -->
        </div>
      </div>
      <button class="nav-arrow right" onclick="scrollHorizontal('mostSellingProductsTrack', 'right')">
        <i class="fas fa-chevron-left"></i>
      </button>
    </div>
  </section>

  <!-- 2. Discounted Products -->
  <section class="horizontal-section">
    <div class="section-header">
      <h3 class="section-title"><i class="fas fa-tag discount-icon"></i> العروض المخفضة حالياً</h3>
      <!-- تم إزالة زر "عرض جميع العروض" من هذا القسم -->
    </div>
    
    <div class="horizontal-products-wrapper">
      <button class="nav-arrow left" onclick="scrollHorizontal('discountedProductsTrack', 'left')">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="horizontal-products-container">
        <div class="horizontal-products-track" id="discountedProductsTrack">
          <!-- Discounted products will be loaded here by JavaScript -->
        </div>
      </div>
      <button class="nav-arrow right" onclick="scrollHorizontal('discountedProductsTrack', 'right')">
        <i class="fas fa-chevron-left"></i>
      </button>
    </div>
  </section>

  <!-- 3. Coming Soon Products -->
  <section class="horizontal-section">
    <div class="section-header">
      <h3 class="section-title"><i class="fas fa-clock clock-icon"></i> المنتجات التي ستتوفر قريباً</h3>
      <!-- تم إزالة زر "عرض جميع العروض" من هذا القسم -->
    </div>
    
    <div class="horizontal-products-wrapper">
      <button class="nav-arrow left" onclick="scrollHorizontal('comingSoonProductsTrack', 'left')">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="horizontal-products-container">
        <div class="horizontal-products-track" id="comingSoonProductsTrack">
          <!-- Coming soon products will be loaded here by JavaScript -->
        </div>
      </div>
      <button class="nav-arrow right" onclick="scrollHorizontal('comingSoonProductsTrack', 'right')">
        <i class="fas fa-chevron-left"></i>
      </button>
    </div>
  </section>

  
<!-- Bottom Image Bar (New Section) - MOVED ABOVE SUPPORT SECTION -->
<div class="container">
  <div class="bottom-image-bar">
    <div class="bottom-bar-wrapper">
      <button class="bottom-nav-arrow left" onclick="scrollBottomBar('left')">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="bottom-bar-track" id="bottomImageBar">
        <!-- Images will be loaded by JavaScript -->
      </div>
      <button class="bottom-nav-arrow right" onclick="scrollBottomBar('right')">
        <i class="fas fa-chevron-left"></i>
      </button>
    </div>
  </div>
</div>

  <!-- Support Section -->
  <section class="support-section">
    <div class="rgb-border-wrapper">
      <div class="rgb-border"></div>
    </div>
    <h2 style="text-align:center; margin-bottom:2rem;">الدعم الفني</h2>
    <form id="supportForm" style="max-width:600px; margin:0 auto; display:grid; gap:1rem;">
      <input type="text" name="name" placeholder="اسمك" required />
      <input type="tel" name="phone" placeholder="رقم الهاتف" required />
      <textarea name="issue" placeholder="صف مشكلتك..." rows="5" required></textarea>
      <button type="submit" class="btn">إرسال الطلب</button>
    </form>
  </section>
</div>

<!-- All Products Page -->
<div class="container all-products-page" id="allProductsPage">
  <div class="page-header">
    <h2 id="allProductsTitle">جميع المنتجات</h2>
    <button class="back-btn" onclick="showMainPage()"><i class="fas fa-arrow-right"></i> العودة للصفحة الرئيسية</button>
  </div>
  
  <!-- Filters (same as main page) -->
  <div class="filters">
    <div class="rgb-border-wrapper">
      <div class="rgb-border"></div>
    </div>
    <div class="search-container">
      <input type="text" id="allProductsSearchInput" placeholder="ابحث في المنتجات، الفئات، الماركات...">
      <button class="btn" id="allProductsSearchBtn"><i class="fas fa-search"></i></button>
    </div>
    <select id="allProductsCategoryFilter">
      <option value="">جميع الفئات</option>
      <option>قطع التجميعة</option>
      <option>لابتوبات</option>
      <option>شاشات</option>
      <option>إكسسوارات</option>
      <option>بلايستيشن</option>

    </select>
    <select id="allProductsBrandFilter">
      <option value="">جميع الماركات</option>
      <option>Intel</option>
      <option>AMD</option>
      <option>NVIDIA</option>
      <option>Corsair</option>
      <option>Samsung</option>
      <option>ASUS</option>
      <option>HP</option>
      <option>Acer</option>
      <option>Lenovo</option>
      <option>LG</option>
      <option>MSI</option>
      <option>Gigabyte</option>
     <option>Apple</option>
     <option>LDON</option>
    </select>
    <select id="allProductsConditionFilter">
      <option value="">جميع الحالات</option>
      <option>جديد</option>
      <option>مستعمل</option>
      <option>علبة مفتوحة</option>
    </select>
    <select id="allProductsPriceFilter">
      <option value="">السعر</option>
      <option value="low">من الأقل إلى الأعلى</option>
      <option value="high">من الأعلى إلى الأقل</option>
    </select>
  </div>
  
  <!-- All Products Grid -->
  <div class="products-grid" id="allProductsGrid"></div>
</div>

<!-- Product Detail Modal -->
<div class="modal" id="productModal">
  <div class="modal-content" style="max-width:1000px; width:95%;">
    <span class="close" id="closeProduct">&times;</span>
    <div id="productDetail"></div>
  </div>
</div>

<!-- Cart Modal -->
<div class="modal cart-modal" id="cartModal">
  <div class="modal-content">
    <span class="close" id="closeCart">&times;</span>
    <h2 style="margin-bottom: 1.5rem;">سلة التسوق</h2>
    <div class="cart-items-container" id="cartItems"></div>
    <div class="cart-summary">
      <div class="cart-total">
        <span>المجموع:</span>
        <span id="cartTotal">0.00 (د.ل)</span>
      </div>
      <div class="cart-actions">
        <button class="btn" id="continueShoppingBtn">مواصلة التسوق</button>
        <button class="btn" id="checkoutBtn">اطلب الآن</button>
      </div>
    </div>
  </div>
</div>

<!-- Order Modal -->
<div class="modal" id="orderModal">
  <div class="modal-content order-modal-content" style="max-width:600px;">
    <span class="close" id="closeOrder">&times;</span>
    <div class="order-modal-header">
      <h2><i class="fas fa-shopping-cart"></i> تقديم طلبك</h2>
      <p>أكمل البيانات التالية لتأكيد طلبك</p>
    </div>
    <form id="orderForm" style="display:grid; gap:1.5rem; margin-top:1rem;">
      <div class="order-form-group">
        <label for="orderName"><i class="fas fa-user"></i> الاسم الكامل</label>
        <input type="text" id="orderName" name="name" placeholder="اكتب اسمك الكامل هنا..." required />
      </div>
      
      <div class="order-form-group">
        <label for="orderPhone"><i class="fas fa-phone"></i> رقم الهاتف</label>
        <input type="tel" id="orderPhone" name="phone" placeholder="مثال: 0912345678" required />
        <div class="phone-hint">
          <i class="fas fa-info-circle"></i> يرجى كتابة رقم الهاتف المربوط بتطبيق الواتس أب للتواصل معك
        </div>
      </div>
      
      <div class="order-form-group">
        <label for="orderLocation"><i class="fas fa-map-marker-alt"></i> الموقع/العنوان</label>
        <input type="text" id="orderLocation" name="location" placeholder="اكتب عنوانك بالتفصيل..." required />
      </div>
      
      <div class="order-form-group">
        <label for="orderNotes"><i class="fas fa-sticky-note"></i> ملاحظات إضافية</label>
        <textarea id="orderNotes" name="notes" placeholder="ملاحظات خاصة بالطلب (اختياري)..." rows="3"></textarea>
      </div>
      
      <button type="submit" class="order-submit-btn">
        <i class="fas fa-check-circle"></i> تأكيد الطلب
      </button>
    </form>
  </div>
</div>

<!-- Social Media Section -->
<div class="social-media-section">
  <h3>تابعنا على منصات التواصل الاجتماعي</h3>
  <div class="social-links">
    <a href="https://www.facebook.com/profile.php?id=61582599726123" class="social-link" target="_blank">
      <div class="social-icon facebook">
        <i class="fab fa-facebook-f"></i>
      </div>
      <span class="social-name">فيسبوك</span>
    </a>
    
    <a href="https://wa.me/c/218931853169" class="social-link" target="_blank">
      <div class="social-icon whatsapp">
        <i class="fab fa-whatsapp"></i>
      </div>
      <span class="social-name">واتساب</span>
    </a>
    
    <a href="https://www.instagram.com/swytshz/" class="social-link" target="_blank">
      <div class="social-icon instagram">
        <i class="fab fa-instagram"></i>
      </div>
      <span class="social-name">انستقرام</span>
    </a>
  </div>
</div>

<footer>
  <p>&copy; 2025 سويتشز - جميع الحقوق محفوظة</p>
</footer>

<!-- Add Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
// Initialize EmailJS with your public key
(function() {
  emailjs.init("oC5f4LnSO9Gazmn5A");
})();

// Theme Toggle
const themeToggle = document.getElementById('themeToggle');
const body = document.body;
themeToggle.addEventListener('click', () => {
  if (body.getAttribute('data-theme') === 'dark') {
    body.removeAttribute('data-theme');
    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
    localStorage.setItem('theme', 'light');
    
    document.documentElement.style.setProperty('--background-opacity', '0.15');
    document.documentElement.style.setProperty('--background-brightness', '1');
    document.documentElement.style.setProperty('--rgb-intensity', '0.7');
  } else {
    body.setAttribute('data-theme', 'dark');
    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
    localStorage.setItem('theme', 'dark');
    
    document.documentElement.style.setProperty('--background-opacity', '0.25');
    document.documentElement.style.setProperty('--background-brightness', '0.8');
    document.documentElement.style.setProperty('--rgb-intensity', '0.8');
  }
});
if (localStorage.getItem('theme') === 'dark') {
  body.setAttribute('data-theme', 'dark');
  themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
  
  document.documentElement.style.setProperty('--background-opacity', '0.25');
  document.documentElement.style.setProperty('--background-brightness', '0.8');
  document.documentElement.style.setProperty('--rgb-intensity', '0.8');
}

// =========== القوائم المخصصة - قم بتعديلها يدوياً ===========
// 1. قائمة المنتجات الأكثر مبيعاً (حددها يدوياً)
const mostSellingProductNames = [
  "Projector HY 300 Mini",
  "Mouse Pad KATANA BLACK",
  "Mouse Pad Miyamoto Musashi from Vagabond",
  "LDON Mide 68", 
  "LG 27″ UltraGear 27GS75Q-B",
  "MSI MAG 32C6X",
  "ACER Nitro VGO 27",
  "MSI G255F",
  "HP OMEN 24",
  "ASUS ROG Strix XG27ACS",
  "ASUS ROG Strix XG27UCS"
];

// 2. قائمة المنتجات المخفضة (حددها يدوياً)
const discountedProductNames = [
  "Projector HY 300 Pro",
  "Projector HY 300 Mini", 
  "LDON Mide 68",
  "LG 27″ UltraGear 27GS75Q-B",
  "FZ - 200 NZXT",
  "Corsair Vengeance 32GB DDR5 6000MHz",
  "Crucial T705 2TB NVMe Gen5 SSD",
  "ASUS ROG Strix Z790-E",
  "ASUS ROG Strix 1000W 80+ Platinum",
  "ASUS TUF B850M-E WIFI"
];

// 3. قائمة المنتجات التي ستتوفر قريباً (حددها يدوياً)
const comingSoonProductNames = [
  "Lovingcool DP-360mm"
  "AJAZZ NACODEX NK68",
  "PlayStation 5 Slim",
  "Mouse Pad Ghost Operator",
  "Mouse Pad Urban Combat Force",
  "PlayStation 5 Standard Edition (Disc Version)"
];

// 4. قائمة المنتجات غير المتوفرة حالياً
const unavailableProducts = [
  "RTX 3070 Ti",
  "Ryzen 9 7950X", 
  "Corsair Vengeance 32GB DDR5 6000MHz",
  "Crucial T705 2TB NVMe Gen5 SSD",
  "ASUS ROG Strix Z790-E",
  "ASUS ROG Strix 1000W 80+ Platinum",
  "ASUS TUF B850M-E WIFI",
  "Crucial t705 2TB NVMe Gen5 SSD",
  "Gigabyte M27Q EK",
  "Lenovo Legion R271",
  "ASUS ROG Strix XG27UCS",
  "ACER Nitro VGO 27",
  "MSI G255F",
  "HP OMEN 24",
  "ASUS ROG Strix XG27ACS"
];

// 5. قائمة الصور للشريط السفلي (20 صورة)
const bottomBarImages = [
  "https://m.media-amazon.com/images/I/71JsBdZyphL._AC_UF1000,1000_QL80_.jpg",
  "https://sc01.alicdn.com/kf/H10b8c756d3ce496db99160bab7603e76A.jpg",
  "https://static0.gamerantimages.com/wordpress/wp-content/uploads/2024/06/the-melgeek-made68-next-to-usb-c-cable-box-and-spare-keycaps.jpg",
  "https://m.media-amazon.com/images/I/714OqczlCgL.jpg?aicid=community-reviews.desktop.in-app-desktop-community-reviews.image.1cf63f2b-6d3e-4f5e-8f6e-3f3f6e1e1e1e._QL100_.jpg",
  "https://ugc-user-content.pccomponentes.com/IMG_6488a1c0438a2_20230613170504276640.jpeg",
  "https://images.everyeye.it/img-articoli/rog-strix-xg27ucs-recensione-gaming-4k-160-hz-giusto-prezzo-v7-63846.jpg",
  "https://mybroadband.co.za/news/wp-content/uploads/2024/10/Monitor1_6-4.jpg",
  "https://www.gdm.or.jp/wp-content/uploads/2024/08/19/msi_mag_32c6x_62-620x466.jpg",
  "https://i.ytimg.com/vi/TkWilXnaUd8/maxresdefault.jpg",
  "https://www.techspot.com/images/products/2024/monitors/org/2025-05-13-product-5.jpg",
  "https://p2-ofp.static.pub/ShareResource/ww/visuals/Legion-R27i-30/lenovo-legion-r27i-30-feature04-1.png",
  "https://cdn.mos.cms.futurecdn.net/bU4uGHVYCXERRCzVkB5X5e.jpg",
  "https://i.rtings.com/assets/products/GBZurEGf/acer-nitro-vg271up-pbmiipx/design-medium.jpg?format=auto",
  "https://i.ytimg.com/vi/syjqja0Cnhk/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLB6ZTUW5s4D_H0PEXgmSqO5g9fGmw",
  "https://www.jumbo-computer.com/cdn/shop/files/TUF_GAMING_B850M-PLUS_WIFI_600x600_03_600x.jpg?v=1736864462",
  "https://cdn.mwave.com.au/images/400/asus_rog_strix_1000w_80_platinum_fully_modular_power_supply_white_ac82582_9537.jpg",
  "https://i.ytimg.com/vi/dap0JBsGRHQ/maxresdefault.jpg",
  "https://www.crucial.com/content/dam/crucial/ssd-products/t705/web/cricual-T705-Web-06-Tile-650x350.psd.transform/small-jpg/img.jpg",
  "https://static.tweaktown.com/content/1/0/10340_888_corsair-vengeance-rgb-ddr5-6000-32gb-dual-channel-memory-kit-review_full.jpg",
  "https://www.wepc.com/wp-content/uploads/2022/09/WePC_7950x-09268-scaled.jpg"
];
// =========== نهاية القوائم المخصصة ===========

// Sample Products - SORTED BY ID DESCENDING (Newest First)

const products = [

        {id:34, name:"Lovingcool DP-360mm", category:"قطع التجميعة", brand:"Lovingcool", price:990, oldPrice:null, condition:"جديد", 
  images:[
    'https://s.alicdn.com/@sc04/kf/Hb08a54fc6e5144c98029e12424729404b.jpg?avif=close&webp=close.jpg',
  ],
desc:"مبرد Lovingcool 360mm ARGB بتبريد مائي قوي للمعالج مع شاشة عرض فيديو 4.0 بوصة قابلة للتخصيص، يوفر أداء تبريد عالي حتى 300W مع تشغيل هادئ وتصميم أنيق بإضاءة ARGB."
  specs: {
    spec1: "تبريد مائي احترافي",
    spec2: "شاشة عرض ذكية",
    spec3: "إضاءة ARGB جذابة",
    spec4: "شاشة فيديو 4.0 بوصة قابلة للتخصيص"
  }},

        {id:33, name:"Mouse Pad Ghost Operator", category:"إكسسوارات", brand:"Mouse Pad", price:65, oldPrice:null, condition:"جديد", 
  images:[
    'https://ae01.alicdn.com/kf/S75a159b4e30d4de7acea94cfdabed03e1.jpg',
  ],
  desc:"ماوس باد بتصميم قتالي عصري باللونين الأسود والأبيض، يُظهر جندي قوات خاصة بأسلوب ديناميكي وسط تأثيرات بصرية قوية تعكس أجواء الحرب الحديثة. التصميم يمنح إحساسًا بالقوة والتركيز، ومثالي لعشّاق الألعاب الحربية والطابع العسكري.",
  specs: {
    spec1: "تصميم فني جريء",
    spec2: "سطح ناعم ودقة عالية",
    spec3: "مقاوم للانزلاق",
    spec4: "حجم كبير 900x400mm"
  }},

        {id:32, name:"Mouse Pad Urban Combat Force", category:"إكسسوارات", brand:"Mouse Pad", price:65, oldPrice:null, condition:"جديد", 
  images:[
    'https://img.lazcdn.com/g/ff/kf/Saf66470bc4d64284b54023aba5b3170ck.jpg_960x960q80.jpg_.webp',
  ],
  desc:"ماوس باد بتصميم قتالي عصري باللونين الأسود والأبيض، يُظهر جندي قوات خاصة بأسلوب ديناميكي وسط تأثيرات بصرية قوية تعكس أجواء الحرب الحديثة. التصميم يمنح إحساسًا بالقوة والتركيز، ومثالي لعشّاق الألعاب الحربية والطابع العسكري.",
  specs: {
    spec1: "تصميم فني جريء",
    spec2: "سطح ناعم ودقة عالية",
    spec3: "مقاوم للانزلاق",
    spec4: "حجم كبير 900x400mm"
  }},

        {id:31, name:"Mouse Pad Miyamoto Musashi from Vagabond", category:"إكسسوارات", brand:"Mouse Pad", price:65, oldPrice:null, condition:"جديد", 
  images:[
    'https://ae01.alicdn.com/kf/Sf54f2b9dc59f4774ad62167adb90a37cb.jpg',
  ],
  desc:"ماوس باد بتصميم أنيق باللون البنفسجي، يُظهر محارب ساموراي في لقطة حركية قوية وهو يقفز ممسكًا بسيفه. التصميم يمنح إحساسًا بالقوة والحرية، ويضيف لمسة فنية مميزة لأي مكتب.",
  specs: {
    spec1: "تصميم فني جريء",
    spec2: "سطح ناعم ودقة عالية",
    spec3: "مقاوم للانزلاق",
    spec4: "حجم كبير 900x400mm"
  }},


        {id:30, name:"Mouse Pad KATANA BLACK", category:"إكسسوارات", brand:"Mouse Pad", price:65, oldPrice:null, condition:"جديد", 
  images:[
    'https://ae01.alicdn.com/kf/Se52fcff2070e4f098f7d1e8b00df2258i.jpg',
  ],
  desc:"ماوس باد بتصميم فني جريء باللونين الأسود والأبيض، يتميز برسمة يدوية أنيقة ليدين تمسكان بسيفين بأسلوب كلاسيكي. يمنح مكتبك لمسة عصرية وقوية، مع سطح ناعم ودقة عالية لراحة الاستخدام.",
  specs: {
    spec1: "تصميم فني جريء",
    spec2: "سطح ناعم ودقة عالية",
    spec3: "مقاوم للانزلاق",
    spec4: "حجم كبير 900x400mm"
  }},

      {id:29, name:"PlayStation 5 Standard Edition (Disc Version)", category:"بلايستيشن", brand:"PlayStation", price:3000, oldPrice:null, condition:"مستعمل", 
  images:[
    'https://assets2.cbsnewsstatic.com/hub/i/r/2020/06/11/ea2b6ee5-6955-42a5-bb76-bb775df093f1/thumbnail/1200x630/11b096d4ab612a908a4e054454eae910/playstation5-a.png',
    'https://i.ytimg.com/vi/_-avpk2tS-w/oardefault.jpg?sqp=-oaymwEYCJUDENAFSFqQAgHyq4qpAwcIARUAAIhC&rs=AOn4CLD0wybMTtJ9_2Dgz4ucFTYqJC2T-g.jpg',
    'https://imgur.com/RNPvebh.jpg',
    'https://imgur.com/CguDQ6z.jpg'
  ],
  desc:"جهاز PlayStation 5 Standard Edition (Disc Version) يوفر تجربة لعب استثنائية بدقة 4K و120 إطارًا في الثانية. يأتي بدعم الأقراص البصرية، ويتميز بأداء فائق السرعة بفضل معالج AMD Zen 2 وذاكرة SSD فائقة السرعة. يدعم Ray Tracing وتقنية 3D Audio لصوت غامر. الخيار الأمثل للاعبين الذين يفضلون شراء الألعاب على أقراص.",
  specs: {
    spec1: "AMD Zen 2 معالج",
    spec2: "825GB SSD",
    spec3: "دعم 4K 120fps",
    spec4: "دعم Ray Tracing"
  }},

    {id:28, name:"AJAZZ NACODEX NK68", category:"إكسسوارات", brand:"AJAZZ", price:350, oldPrice:430, condition:"جديد", 
  images:[
    'https://imgur.com/kNnMbAr.jpg',
    'https://i.ytimg.com/vi/_-avpk2tS-w/oardefault.jpg?sqp=-oaymwEYCJUDENAFSFqQAgHyq4qpAwcIARUAAIhC&rs=AOn4CLD0wybMTtJ9_2Dgz4ucFTYqJC2T-g.jpg',
    'https://imgur.com/RNPvebh.jpg',
    'https://imgur.com/CguDQ6z.jpg'
  ],
  desc:"كيبورد AJAZZ NACODEX NK68 يتميز بتصميم ميكانيكي أنيق بحجم 68% يجمع بين العملية والمظهر العصري. يأتي بسويتشات حمراء ناعمة وسريعة الاستجابة، مثالية للألعاب والكتابة بدون ضجيج مزعج. يتمتع بإضاءة RGB خلابة مع تأثيرات متعددة تضيف لمسة جمالية رائعة، إلى جانب جودة تصنيع عالية تمنحك تجربة استخدام مريحة وقوية سواء للاعبين أو لمحبي الكيبوردات الميكانيكية.",
  specs: {
    spec1: "حجم 68%",
    spec2: "Red Switches",
    spec3: "High Quality",
    spec4: "Black & White Color"
  }},

      {id:27, name:"PlayStation 5 Slim", category:"بلايستيشن", brand:"PlayStation", price:3000, oldPrice:null, condition:"مستعمل", 
  images:[
    'https://static-catalog.tiendamia.com/marketplace_manager_service/production/product_99c1ed6b_mirakl_image_2_large.jpg',
    'https://i.ytimg.com/vi/_-avpk2tS-w/oardefault.jpg?sqp=-oaymwEYCJUDENAFSFqQAgHyq4qpAwcIARUAAIhC&rs=AOn4CLD0wybMTtJ9_2Dgz4ucFTYqJC2T-g.jpg',
    'https://imgur.com/RNPvebh.jpg',
    'https://imgur.com/CguDQ6z.jpg'
  ],
  desc:"جهاز PlayStation 5 Slim يأتي بتصميم أنحف وأخف من الإصدار السابق مع الحفاظ على نفس القوة والأداء العالي. يوفر تجربة لعب مذهلة بفضل المعالج القوي ودعم دقة 4K وسرعات تحميل فائقة بفضل SSD فائق السرعة. يدعم يد التحكم DualSense بميزات الاهتزاز التفاعلي والمقاومة المتكيفة، ليمنحك إحساسًا واقعيًا داخل الألعاب. خيار مثالي للاعبين الذين يبحثون عن أداء قوي بتصميم عصري وأنيق. 🎮",
  specs: {
    spec1: "تصميم أنحف وأخف",
    spec2: "أداء 4K 120fps",
    spec3: "SSD فائق السرعة",
    spec4: "DualSense Controller"
  }},

  {id:26, name:"Projector HY 300 Pro", category:"إكسسوارات", brand:"Projector", price:300, oldPrice:360, condition:"جديد", 
  images:[
    'https://static-01.daraz.lk/p/0efbfad3101d41aa08ad4e98cfeac2e1.jpg',
    'https://nicdecor.com/wp-content/uploads/2025/05/HY-300-pro.jpg',
    'https://sc04.alicdn.com/kf/H3ba5642b49d34f73a992c4e20cb5bbb6Y.jpg',
    'https://ae01.alicdn.com/kf/S97523c0f61e34113a2f8cede1815eeedE.jpg'
  ],
  desc:"بروجكتر ذكي مزوّد بنظام Android 11 يقدم تجربة مشاهدة سلسة بدقة فيزيائية 720P مع دعم تشغيل محتوى يصل إلى 4K. يتميز باتصال WiFi 6 السريع وBluetooth 5.0 لربط أسهل مع الأجهزة. يأتي بمدخلات HDMI وUSB ومخرج صوت 3.5mm، ويعمل على طاقة AC 90–260V. تصميمه العصري يأتي بأبعاد 170×101 مم لسهولة الحمل والاستخدام.",
  specs: {
    spec1: "الدقة الفيزيائية 720P",
    spec2: "أقصى دقة دعم 4K",
    spec3: "Android 11",
    spec4: "WiFi6 BT5"
  }},
  
  {id:25, name:"Projector HY 300 Mini", category:"إكسسوارات", brand:"Projector", price:320, oldPrice:399, condition:"جديد", 
  images:[
    'https://i.imgur.com/rnjXh9M.png',
    'https://i.imgur.com/w3qOp6f.png',
    'https://sc04.alicdn.com/kf/Ha9ff9a1501d245bda51ea50ddb2b4f81i.jpg',
    'https://gomuto.com/cdn/shop/files/HY300-Mini-4K-Projector-Portable-180_-Rotatable-Projection-Android-11.0-Dual-Band-WiFi-Video-Beammer-For-Outdoor-Cinema-Gomuto-16162843.webp?v=1744706645&width=1445',
    'https://i5.walmartimages.com/asr/c43154b3-f071-44c5-885e-7d7aa883556a.04297864d621f83b0a1b6994cc57e57a.jpeg?odnHeight=768&odnWidth=768&odnBg=FFFFFF.jpg',
    'https://sc04.alicdn.com/kf/H3ba5642b49d34f73a992c4e20cb5bbb6Y.jpg',
    'https://m.media-amazon.com/images/I/71R3P0LefHL.jpg'
  ],
  desc:"بروجكتر ذكي مزوّد بنظام Android 12 يقدم تجربة مشاهدة سلسة بدقة فيزيائية 720P مع دعم تشغيل محتوى يصل إلى 4K. يتميز باتصال WiFi 6 السريع وBluetooth 5.0 لربط أسهل مع الأجهزة. يأتي بمدخلات HDMI وUSB ومخرج صوت 3.5mm، ويعمل على طاقة AC 90–260V. تصميمه العصري يأتي بأبعاد 170×101 مم لسهولة الحمل والاستخدام.",
  specs: {
    spec1: "الدقة الفيزيائية 720P",
    spec2: "أقصى دقة دعم 4K",
    spec3: "Android 12",
    spec4: "WiFi6 BT5"
  }},
  
  {id:24, name:"LDON Mide 68", category:"إكسسوارات", brand:"LDON", price:299, oldPrice:399, condition:"جديد", 
  images:[
    'https://sc04.alicdn.com/kf/H381c0debded941d9a29ba06b76f13cebf.jpg',
    'https://ae01.alicdn.com/kf/S1d39d71de2de42809a1433ec5b8b8398W.jpg',
    'https://sc04.alicdn.com/kf/H0539a7bb225a40ee9632d7309fa6498et.jpg'
  ],  
  desc:"كيبورد مغناطيسي مميز للألعاب مع إضاءة RGB قابلة للتخصيص.",
  specs: {
    spec1: "Magnetic Switch 8K",
    spec2: "0.125ms",
    spec3: "Sky Blue PRO Switches",
    spec4: "68% حجم"
  }},

  {id:23, name:"LOGITECH G413 SE MECHANICAL", category:"إكسسوارات", brand:"LOGITECH", price:299, oldPrice:399, condition:"جديد", 
  images:[
    'https://ecommerce.datablitz.com.ph/cdn/shop/products/710m45UA-RL._AC_SL1500_800x.jpg?v=1679964052.jpg',
    'https://cdn.arstechnica.net/wp-content/uploads/2022/02/switches.jpg',
    'https://m.media-amazon.com/images/I/716ssIJFzcL.jpg'
  ],  
  desc:"لوحة مفاتيح ميكانيكية Logitech G413 SE، تصميم أنيق وأداء سريع ودقيق للألعاب.",
  specs: {
    spec1: "Mechanical Switches",
    spec2: "Aluminium",
    spec3: "Brown switches",
    spec4: "75% حجم"
  }},

  {id:22, name:"FZ - 200 NZXT", category:"قطع التجميعة", brand:"NZXT", price:40, oldPrice:55, condition:"جديد", 
  images:[
    'https://www.bhphotovideo.com/images/fb/nzxt_rf_fz20s_u1_fz_200mm_high_airflow_fan_1165554.jpg', 
    'https://m.media-amazon.com/images/I/41KAQ7brUwL.jpg',
    'https://bermorzone.com.ph/wp-content/uploads/2022/06/35-146-032-05.jpg'
  ], 
  desc:"مروحة NZXT FZ-200 بحجم 200 مم توفر تدفق هواء عالي وهدوء أثناء التشغيل، مما يجعلها مثالية لتحسين تبريد جهاز الكمبيوتر الخاص بك.",
  specs: {
    spec1: "200mm",
    spec2: "Blue LED",
    spec3: "3-Pin",
    spec4: "900 RPM"
  }},

  {id:21, name:"Gigabyte M27Q EK", category:"شاشات", brand:"Gigabyte", price:1800, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://s3.chip7.pt/20VM0-M27QBA-2EKR_site.jpg', 
    'https://i.rtings.com/assets/products/mwTbpPbi/gigabyte-m27q-rev-2-0/design-small.jpg?format=auto'
  ], 
  desc:"توفر أداءً ممتازًا في الألعاب مع حركة سلسة وألوان نابضة بالحياة. مناسبة للاعبين المحترفين والعمل الإبداعي.",
  specs: {
    spec1: "27 بوصة",
    spec2: "QHD 2560x1440",
    spec3: "170 هرتز",
    spec4: "0.5ms"
  }},

  {id:20, name:"MSI G255F", category:"شاشات", brand:"MSI", price:1075, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://m.media-amazon.com/images/S/aplus-media-library-service-media/52d75211-dd11-4272-b60f-9b93ae9d3dd4.__CR590,0,2939,2204_PT0_SX600_V1___.png',
    'https://mybroadband.co.za/news/wp-content/uploads/2024/10/Monitor1_6-4.jpg'
  ], 
  desc:"شاشة ألعاب سريعة ومضغوطة تقدم أداءً سلسًا مع استجابة فورية. مثالية للمساحات الصغيرة.",
  specs: {
    spec1: "25 بوصة",
    spec2: "FHD 1920x1080",
    spec3: "180 هرتز",
    spec4: "1ms"
  }},

  {id:19, name:"MSI MAG 32C6X", category:"شاشات", brand:"MSI", price:1600, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://m.media-amazon.com/images/S/aplus-media-library-service-media/3688790a-2d35-4ddb-9ae3-1f025cd260e6.__CR0,0,600,450_PT0_SX600_V1___.jpg',
    'https://www.gdm.or.jp/wp-content/uploads/2024/08/19/msi_mag_32c6x_62-620x466.jpg'
  ], 
  desc:"شاشة منحنية كبيرة لتجربة غامرة، معدل تحديث عالي وألوان غنية للألعاب التنافسية.",
  specs: {
    spec1: "32 بوصة",
    spec2: "FHD 1920x1080",
    spec3: "250 هرتز",
    spec4: "1ms"
  }},

  {id:18, name:"LG 27″ UltraGear 27GS75Q-B", category:"شاشات", brand:"LG", price:2200, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://img.lazcdn.com/g/p/0abdf2cc9f0c74ffa3d7fe5bdb4a01cf.jpg_720x720q80.jpg',
    'https://i.ytimg.com/vi/TkWilXnaUd8/maxresdefault.jpg'
  ], 
  desc:"شاشة ألعاب تنافسية بألوان نابضة بالحياة وأداء سلس. تصميم بلا إطار من ثلاث جهات يضفي مظهرًا احترافيًا.",
  specs: {
    spec1: "27 بوصة",
    spec2: "QHD 2560x1440",
    spec3: "180 هرتز تصل الى 200 هيرتز",
    spec4: "1ms"
  }},

  {id:17, name:"ASUS ROG Strix XG27UCS", category:"شاشات", brand:"ASUS", price:2450, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://rog.asus.com/media/1719980534198.jpg',
    'https://www.techspot.com/images/products/2024/monitors/org/2025-05-13-product-5.jpg'
  ], 
  desc:"شاشة متميزة بدقة 4K وأداء فائق السرعة، تقدم ألوانًا نابضة بالحياة وتباينًا عاليًا. مثالية للاعبين المحترفين والمصممين.",
  specs: {
    spec1: "27 بوصة",
    spec2: "4K 3840x2160",
    spec3: "160 هرتز",
    spec4: "1ms"
  }},

  {id:16, name:"Lenovo Legion R271", category:"شاشات", brand:"Lenovo", price:1025, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://m.media-amazon.com/images/I/71yPdMKhFTL._AC_UF1000,1000_QL80_.jpg',
    'https://p2-ofp.static.pub/ShareResource/ww/visuals/Legion-R27i-30/lenovo-legion-r27i-30-feature04-1.png'
  ], 
  desc:"مثالية للاستخدام اليومي والألعاب الخفيفة. أداء موثوق وتصميم عملي بسعر اقتصادي.",
  specs: {
    spec1: "27 بوصة",
    spec2: "FHD 1920x1080",
    spec3: "144 هرتز",
    spec4: "4ms"
  }},

  {id:15, name:"ASUS ROG Strix XG27ACS", category:"شاشات", brand:"ASUS", price:2250, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://pcx.com.ph/cdn/shop/files/ASUS_XG27ACS.jpg?v=1733306817&width=1090',
    'https://cdn.mos.cms.futurecdn.net/bU4uGHVYCXERRCzVkB5X5e.jpg'
  ], 
  desc:"شاشة ألعاب احترافية تقدم ألوانًا دقيقة وحركة فائقة السلاسة، مع دعم HDR وتقنيات المزامنة المتقدمة. تصميم عصير براحة طويلة الأمد.",
  specs: {
    spec1: "27 بوصة",
    spec2: "WQHD 2560x1440",
    spec3: "180 هرتز",
    spec4: "1ms"
  }},

  {id:14, name:"ACER Nitro VGO 27", category:"شاشات", brand:"Acer", price:999, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://m.media-amazon.com/images/S/aplus-media-library-service-media/3e89ed3b-87b4-4826-910a-603daaf5d4da.__CR0,0,1464,600_PT0_SX1464_V1___.jpg',
    'https://i.rtings.com/assets/products/GBZurEGf/acer-nitro-vg271up-pbmiipx/design-medium.jpg?format=auto'
  ], 
  desc:"شاشة Acer Nitro 27 تجمع بين الأداء الجيد والسعر المعقول. تصميمها العصري والأنيق يعزز تجربة الألعاب والاستخدام اليومي. خيار متوازن بين الجودة والميزانية.",
  specs: {
    spec1: "27 بوصة",
    spec2: "4K 3840x2160",
    spec3: "60هرتز",
    spec4: "1ms"
  }},

  {id:13, name:"HP OMEN 24", category:"شاشات", brand:"HP", price:950, oldPrice:null, condition:"علبة مفتوحة", 
  images:[
    'https://memoryzone.aecomapp.com/storage/files/1718186722man-hinh-hp-omen-24-gaming-24-inch-ips-fhd-165hz-780f0aa-06.jpg.webp',
    'https://i.ytimg.com/vi/syjqja0Cnhk/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLB6ZTUW5s4D_H0PEXgmSqO5g9fGmw'
  ], 
  desc:"شاشة HP OMEN 24 تقدم أداءً ممتازًا في الألعاب مع ألوان دقيقة وزوايا مشاهدة واسعة. معدل التحديث العالي ووقت الاستجابة السريع يجعلانها مثالية للألعاب التنافسية، مع دعم FreeSync Premium لصور أكثر سلاسة. تصميم أنيق وعملي للجسات الطويلة.",
  specs: {
    spec1: "24 بوصة",
    spec2: "FHD 1920x1080",
    spec3: "165 هرتز",
    spec4: "1ms"
  }},

  {id:8, name:"ASUS TUF B850M-E WIFI", category:"قطع التجميعة", brand:"ASUS", price:1550, oldPrice:1950, condition:"جديد", 
  images:[
    'https://gamingpc.com.ua/image/cache/425x372-crop/9cef3a2a8cccf9957bca7b8bf1f7e930.webp',
    'https://m.media-amazon.com/images/I/51qsiPseF1L.jpg',
    'https://www.jumbo-computer.com/cdn/shop/files/TUF_GAMING_B850M-PLUS_WIFI_600x600_03_600x.jpg?v=1736864462',
  ],   
  desc:"لوحة من العيار الثقيل تدعم أقوى المعالجات.",
  specs: {
    spec1: "AM5",
    spec2: "DDR5",
    spec3: "PCIe 4.0",
    spec4: "Wi-Fi 6"
  }},

  {id:7, name:"ASUS TUF B850M-E WIFI", category:"قطع التجميعة", brand:"ASUS", price:1550, oldPrice:1950, condition:"جديد", 
  images:[
    'https://gamingpc.com.ua/image/cache/425x372-crop/9cef3a2a8cccf9957bca7b8bf1f7e930.webp',
    'https://m.media-amazon.com/images/I/51qsiPseF1L.jpg',
    'https://www.jumbo-computer.com/cdn/shop/files/TUF_GAMING_B850M-PLUS_WIFI_600x600_03_600x.jpg?v=1736864462',
  ],   
  desc:"لوحة من العيار الثقيل تدعم أقوى المعالجات.",
  specs: {
    spec1: "AM5",
    spec2: "DDR5",
    spec3: "PCIe 4.0",
    spec4: "Wi-Fi 6"
  }},

  {id:6, name:"ASUS ROG Strix 1000W 80+ Platinum", category:"قطع التجميعة", brand:"Corsair", price:1600, oldPrice:1900, condition:"جديد", 
  images:[
    'https://rog.asus.com/media/1723518683990.jpg',
    'https://dlcdnwebimgs.asus.com/files/media/0003A3D7-4037-4F8D-BC15-38902D1057ED/v1/img/engineering/80_plusgold_2.jpg',
    'https://cdn.mwave.com.au/images/400/asus_rog_strix_1000w_80_platinum_fully_modular_power_supply_white_ac82582_9537.jpg'
  ],   
  desc:"مزود طاقة بكفاءة بلاتينية 80+.",
  specs: {
    spec1: "1000W",
    spec2: "80+ Platinum",
    spec3: "موديولار",
    spec4: "10 سنوات ضمان"
  }},

  {id:5, name:"ASUS ROG Strix Z790-E", category:"قطع التجميعة", brand:"ASUS", price:2000, oldPrice:2400, condition:"جديد", 
  images:[
    'https://hyperpc.ae/images/catalog/hardware/motherboards/1700/asus/rog-strix-z790-e-gaming/asus-rog-strix-z790-e-gaming-ii.jpg',
    'https://i.ytimg.com/vi/dap0JBsGRHQ/maxresdefault.jpg',
    'https://microless.com/cdn/products/a4d11f7efc7aac6d6829b1bf5b4fe22f-hi.jpg'
  ],  
  desc:"لوحة أم متميزة تدعم أحدث المعالجات.",
  specs: {
    spec1: "LGA 1700",
    spec2: "DDR5",
    spec3: "PCIe 5.0",
    spec4: "Wi-Fi 6E"
  }},
  
  {id:4, name:"Crucial t705 2TB NVMe Gen5 SSD", category:"قطع التجميعة", brand:"Samsung", price:1200, oldPrice:1500, condition:"جديد", 
  images:[
    'https://cdn.mos.cms.futurecdn.net/iZEGMzkmaX8o87Apg5HsZV.jpg',
    'https://www.crucial.com/content/dam/crucial/ssd-products/t705/web/cricual-T705-Web-06-Tile-650x350.psd.transform/small-jpg/img.jpg',
    'https://assets.micron.com/adobe/assets/urn:aaid:aem:69bd2902-dd78-4fbe-bcaa-04f36735093d/original/as/crucial-t705LE-ssd-gallery-image-6-compatibility-hs.png'
  ],  
  desc:"أسرع وحدة تخزين NVMe من الجيل الخامس.",
  specs: {
    spec1: "2TB",
    spec2: "PCIe 5.0",
    spec3: "14,500 MB/s",
    spec4: "12,700 MB/s"
  }},

  {id:3, name:"Corsair Vengeance 32GB DDR5 6000MHz", category:"قطع التجميعة", brand:"Corsair", price:1600, oldPrice:2000, condition:"علبة مفتوحة", 
  images:[
    'https://gamers.ge/wp-content/uploads/2023/08/Corsair-VENGEANCE-RGB-DDR5-16x2-6000MHz-white.jpg',
    'https://static.tweaktown.com/content/1/0/10340_888_corsair-vengeance-rgb-ddr5-6000-32gb-dual-channel-memory-kit-review_full.jpg',
  ],  
  desc:"ذاكرة عالية الأداء بسرعة 6000MHz.",
  specs: {
    spec1: "32GB",
    spec2: "DDR5",
    spec3: "6000MHz",
    spec4: "CL36"
  }},
  
  {id:2, name:"Ryzen 9 7950X", category:"قطع التجميعة", brand:"AMD", price:4000, oldPrice:4600, condition:"جديد", 
  images:[
    'https://www.amd.com/content/dam/amd/en/images/products/processors/ryzen/2505503-ryzen-9-7900x-og.jpg',
    'https://www.wepc.com/wp-content/uploads/2022/09/WePC_7950x-09268-scaled.jpg',
    'https://cdn.mos.cms.futurecdn.net/AAUPmkWs8yCsVwguyRjWK.png'
  ],  
  desc:"أقوى معالج للمستهلكين على الإطلاق.",
  specs: {
    spec1: "16 نواة",
    spec2: "32 مسار",
    spec3: "4.5 GHz",
    spec4: "170W TDP"
  }},

  {id:1, name:"RTX 3070 Ti", category:"قطع التجميعة", brand:"NVIDIA", price:2500, oldPrice:2800, condition:"جديد", 
  images:[
    'https://www.notebookcheck.net/fileadmin/Notebooks/News/_nc3/ZOTAC_Gaming_GeForce_RTX_3080_Ti_cards_unveiled_early_June_2021.jpg', 
    'https://www.gpuheaven.com/wp-content/uploads/2025/10/Zotac-Gaming-Geforce-Rtx-3070-Ti-Amp-Holo-2.jpg', 
  ], 
  desc:"كرت الفئة المتوسطة يعطيك أفضل أداء في الالعاب الحديثة.",
  specs: {
    spec1: "8GB GDDR6X",
    spec2: "5888 نواة",
    spec3: "1770 MHz",
    spec4: "PCIe 4.0"
  }}
];

// All items (products only) مع إضافة خاصية isComingSoon
const allItems = [...products].map(product => {
  return {
    ...product,
    isComingSoon: comingSoonProductNames.includes(product.name)
  };
});

let cart = JSON.parse(localStorage.getItem('cart')) || [];
let currentProductImage = {};
let swiperInstance = null;
let currentAllProductsType = 'all';

// دالة للتحكم في الأقسام الأفقية (يمين/يسار)
function scrollHorizontal(trackId, direction) {
  const track = document.getElementById(trackId);
  const scrollAmount = 300;
  
  if (direction === 'left') {
    track.scrollLeft += scrollAmount;
  } else {
    track.scrollLeft -= scrollAmount;
  }
}

// دالة للتحكم في الشريط السفلي (يمين/يسار)
function scrollBottomBar(direction) {
  const track = document.getElementById('bottomImageBar');
  const scrollAmount = 250;
  
  if (direction === 'left') {
    track.scrollLeft += scrollAmount;
  } else {
    track.scrollLeft -= scrollAmount;
  }
}

// Initialize Image Slider
function initImageSlider() {
  swiperInstance = new Swiper('.swiper', {
    direction: 'horizontal',
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false,
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    touchEventsTarget: 'container',
    allowTouchMove: true,
    grabCursor: true,
  });
}

// Function to format price with (د.ل) instead of $
function formatPrice(price) {
  return price + ' (د.ل)';
}

// Function to get condition class based on condition text
function getConditionClass(condition) {
  switch(condition) {
    case 'جديد': return 'condition-new';
    case 'مستعمل': return 'condition-used';
    case 'علبة مفتوحة': return 'condition-open-box';
    default: return '';
  }
}

// Render horizontal products bars
function renderHorizontalProductsBars() {
  // 1. Most Selling Products (من القائمة المخصصة)
  const mostSellingProducts = allItems
    .filter(p => mostSellingProductNames.includes(p.name))
    .slice(0, 8);
  
  renderHorizontalBar('mostSellingProductsTrack', mostSellingProducts, false);
  
  // 2. Discounted Products (من القائمة المخصصة)
  const discountedProducts = allItems
    .filter(p => discountedProductNames.includes(p.name) && p.oldPrice !== null && p.oldPrice !== undefined);
  
  renderHorizontalBar('discountedProductsTrack', discountedProducts, true);
  
  // 3. Coming Soon Products (من القائمة المخصصة)
  const comingSoonProducts = allItems
    .filter(p => comingSoonProductNames.includes(p.name));
  
  renderHorizontalBar('comingSoonProductsTrack', comingSoonProducts, false, true);
}

// Render a single horizontal bar مع ترتيب المنتجات (المتوفرة أولاً)
function renderHorizontalBar(trackId, products, showDiscount = false, showComingSoon = false) {
  const track = document.getElementById(trackId);
  
  // ترتيب المنتجات: المتوفرة أولاً ثم غير المتوفرة
  const sortedProducts = [...products].sort((a, b) => {
    const aUnavailable = unavailableProducts.includes(a.name);
    const bUnavailable = unavailableProducts.includes(b.name);
    if (aUnavailable && !bUnavailable) return 1;
    if (!aUnavailable && bUnavailable) return -1;
    return 0;
  });
  
  track.innerHTML = sortedProducts.map(p => {
    const isUnavailable = unavailableProducts.includes(p.name);
    const isComingSoon = p.isComingSoon;
    const conditionClass = getConditionClass(p.condition);
    
    return `
    <div class="horizontal-product-card ${isUnavailable ? 'unavailable-product' : ''}" data-id="${p.id}">
      ${showDiscount && p.oldPrice ? `<div class="product-badge">-${Math.round((1 - p.price/p.oldPrice)*100)}%</div>` : ''}
      ${showComingSoon && isComingSoon ? `<div class="coming-soon-badge">قريباً</div>` : ''}
      ${isUnavailable ? '<div class="unavailable-label">غير متوفر</div>' : ''}
      <img src="${p.images[0]}" alt="${p.name}" loading="lazy">
      <div class="horizontal-product-info">
        <h3 class="horizontal-product-name">${p.name}</h3>
        <p class="horizontal-product-condition ${conditionClass}">${p.brand} • ${p.condition}</p>
        <div>
          <span class="horizontal-product-price">${formatPrice(p.price)}</span>
          ${p.oldPrice ? `<span class="horizontal-product-old-price">${formatPrice(p.oldPrice)}</span>` : ''}
        </div>
        <button class="btn add-to-cart" style="margin-top:1rem;" data-id="${p.id}" ${isUnavailable ? 'disabled' : ''}>
          ${isUnavailable ? 'غير متوفر' : 'أضف إلى السلة'}
        </button>
      </div>
    </div>
  `}).join('');

  // Add click event to horizontal product cards
  document.querySelectorAll(`#${trackId} .horizontal-product-card`).forEach(card => {
    card.addEventListener('click', (e) => {
      if (e.target.classList.contains('add-to-cart') || e.target.classList.contains('unavailable-label') || 
          e.target.classList.contains('product-badge') || e.target.classList.contains('coming-soon-badge')) return;
      const id = parseInt(card.dataset.id);
      showProductDetail(id);
    });
  });

  // Add to cart buttons
  document.querySelectorAll(`#${trackId} .add-to-cart`).forEach(btn => {
    btn.addEventListener('click', (e) => {
      const id = parseInt(e.target.dataset.id);
      addToCart(id, e.target);
    });
  });
}

// Render bottom image bar
function renderBottomImageBar() {
  const track = document.getElementById('bottomImageBar');
  
  track.innerHTML = bottomBarImages.map((src, index) => `
    <div class="bottom-image-item">
      <img src="${src}" alt="صورة ${index + 1}" loading="lazy">
    </div>
  `).join('');
}

// Render all products in grid layout مع ترتيب المنتجات حسب الأنواع
function renderAllProducts(filter = {}, productsToShow = allItems) {
  let filtered = [...productsToShow].sort((a, b) => b.id - a.id);

  // Apply filters
  if (filter.category) {
    filtered = filtered.filter(p => p.category === filter.category);
  }
  
  if (filter.brand) filtered = filtered.filter(p => p.brand === filter.brand);
  
  if (filter.condition) filtered = filtered.filter(p => p.condition === filter.condition);
  
  if (filter.price === 'low') filtered.sort((a,b) => (a.price || 0) - (b.price || 0));
  if (filter.price === 'high') filtered.sort((a,b) => (b.price || 0) - (a.price || 0));
  
  if (filter.search) {
    const searchTerm = filter.search.toLowerCase();
    filtered = filtered.filter(p => 
      p.name.toLowerCase().includes(searchTerm) ||
      p.category.toLowerCase().includes(searchTerm) ||
      p.brand.toLowerCase().includes(searchTerm) ||
      p.desc.toLowerCase().includes(searchTerm)
    );
  }

  // ترتيب المنتجات حسب الأنواع المطلوبة:
  // 1. المنتجات المتوفرة (ليست غير متوفرة وليست قادمة قريباً)
  // 2. المنتجات التي ستتوفر قريباً
  // 3. المنتجات غير المتوفرة
  filtered.sort((a, b) => {
    const aIsUnavailable = unavailableProducts.includes(a.name);
    const bIsUnavailable = unavailableProducts.includes(b.name);
    const aIsComingSoon = a.isComingSoon;
    const bIsComingSoon = b.isComingSoon;
    
    // المنتجات المتوفرة أولاً
    if (!aIsUnavailable && !aIsComingSoon && (bIsUnavailable || bIsComingSoon)) return -1;
    if ((aIsUnavailable || aIsComingSoon) && !bIsUnavailable && !bIsComingSoon) return 1;
    
    // المنتجات التي ستتوفر قريباً ثانياً
    if (aIsComingSoon && !aIsUnavailable && bIsUnavailable) return -1;
    if (aIsUnavailable && bIsComingSoon && !bIsUnavailable) return 1;
    
    // المنتجات غير المتوفرة ثالثاً
    if (aIsUnavailable && !bIsUnavailable) return 1;
    if (!aIsUnavailable && bIsUnavailable) return -1;
    
    // إذا كان كلاهما من نفس النوع، ترتيب حسب السعر أو التاريخ
    return b.id - a.id;
  });

  const grid = document.getElementById('allProductsGrid');
  grid.innerHTML = filtered.map(p => {
    const isUnavailable = unavailableProducts.includes(p.name);
    const isComingSoon = p.isComingSoon;
    const conditionClass = getConditionClass(p.condition);
    
    // تحديد النوع للعرض
    let typeLabel = '';
    if (isUnavailable) {
      typeLabel = '<div class="unavailable-label">غير متوفر</div>';
    } else if (isComingSoon) {
      typeLabel = '<div class="coming-soon-badge">قريباً</div>';
    }
    
    return `
    <div class="product-card ${isUnavailable ? 'unavailable-product' : ''}" data-id="${p.id}">
      ${typeLabel}
      ${p.oldPrice ? `<span class="badge">-${Math.round((1 - p.price/p.oldPrice)*100)}%</span>` : ''}
      <img src="${p.images[0]}" alt="${p.name}" loading="lazy"/>
      <div class="product-info">
        <h3>${p.name}</h3>
        <p>${p.brand} • <span class="${conditionClass}">${p.condition}</span></p>
        <div>
          <span class="price">${formatPrice(p.price)}</span>${p.oldPrice ? `<span class="old-price">${formatPrice(p.oldPrice)}</span>` : ''}
        </div>
        <button class="btn add-to-cart" style="margin-top:1rem;" data-id="${p.id}" ${isUnavailable ? 'disabled' : ''}>
          ${isUnavailable ? 'غير متوفر' : 'أضف إلى السلة'}
        </button>
      </div>
    </div>
  `}).join('');

  // Add to cart buttons
  document.querySelectorAll('#allProductsGrid .add-to-cart').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const id = parseInt(e.target.dataset.id);
      addToCart(id, e.target);
    });
  });

  // Open product modal
  document.querySelectorAll('#allProductsGrid .product-card').forEach(card => {
    card.addEventListener('click', (e) => {
      if (e.target.classList.contains('add-to-cart') || e.target.classList.contains('unavailable-label') || 
          e.target.classList.contains('coming-soon-badge') || e.target.classList.contains('badge') || 
          e.target.classList.contains('btn')) return;
      const id = parseInt(card.dataset.id);
      showProductDetail(id);
    });
  });
}

// Show all products page - عند الضغط على الزر يعرض جميع المنتجات
function showAllProducts(type = 'all') {
  currentAllProductsType = type;
  let title = 'جميع المنتجات';
  let filteredProducts = allItems;
  
  // عند الضغط على الزر يعرض جميع المنتجات مع ترتيبها حسب الأنواع
  if (type === 'all') {
    title = 'جميع المنتجات';
    filteredProducts = allItems;
  }
  
  document.getElementById('allProductsTitle').textContent = title;
  document.getElementById('mainPage').style.display = 'none';
  document.getElementById('allProductsPage').classList.add('active');
  
  // Reset filters
  document.getElementById('allProductsSearchInput').value = '';
  document.getElementById('allProductsCategoryFilter').value = '';
  document.getElementById('allProductsBrandFilter').value = '';
  document.getElementById('allProductsConditionFilter').value = '';
  document.getElementById('allProductsPriceFilter').value = '';
  
  // عرض جميع المنتجات مع الترتيب المناسب
  renderAllProducts({}, filteredProducts);
  
  // Scroll to top
  window.scrollTo(0, 0);
}

// Show main page
function showMainPage() {
  document.getElementById('allProductsPage').classList.remove('active');
  document.getElementById('mainPage').style.display = 'block';
  window.scrollTo(0, 0);
}

// Filters for main page
document.getElementById('categoryFilter').addEventListener('change', applyFilters);
document.getElementById('brandFilter').addEventListener('change', applyFilters);
document.getElementById('conditionFilter').addEventListener('change', applyFilters);
document.getElementById('priceFilter').addEventListener('change', applyFilters);
document.getElementById('searchInput').addEventListener('input', applyFilters);
document.getElementById('searchBtn').addEventListener('click', applyFilters);

function applyFilters() {
  showNotification('استخدم زر "عرض جميع العروض" لرؤية المنتجات مع الفلاتر');
}

// Filters for all products page
document.getElementById('allProductsCategoryFilter').addEventListener('change', applyAllProductsFilters);
document.getElementById('allProductsBrandFilter').addEventListener('change', applyAllProductsFilters);
document.getElementById('allProductsConditionFilter').addEventListener('change', applyAllProductsFilters);
document.getElementById('allProductsPriceFilter').addEventListener('change', applyAllProductsFilters);
document.getElementById('allProductsSearchInput').addEventListener('input', applyAllProductsFilters);
document.getElementById('allProductsSearchBtn').addEventListener('click', applyAllProductsFilters);

function applyAllProductsFilters() {
  const filter = {
    category: document.getElementById('allProductsCategoryFilter').value,
    brand: document.getElementById('allProductsBrandFilter').value,
    condition: document.getElementById('allProductsConditionFilter').value,
    price: document.getElementById('allProductsPriceFilter').value,
    search: document.getElementById('allProductsSearchInput').value
  };
  
  // تطبيق الفلاتر على جميع المنتجات
  renderAllProducts(filter, allItems);
}

// Add to cart with animation
function addToCart(id, button) {
  const product = allItems.find(p => p.id === id);
  
  if (unavailableProducts.includes(product.name)) {
    showNotification('هذا المنتج غير متوفر حالياً');
    return;
  }
  
  const currentImage = currentProductImage[id] || product.images[0];
  
  const existing = cart.find(item => item.id === id);
  if (existing) {
    existing.qty++;
    if (currentImage !== existing.images[0]) {
      existing.images[0] = currentImage;
    }
  } else {
    cart.push({
      ...product, 
      qty: 1,
      images: [currentImage]
    });
  }
  
  const animation = document.createElement('div');
  animation.className = 'add-to-cart-animation';
  
  const rect = button.getBoundingClientRect();
  const startX = rect.left + rect.width / 2;
  const startY = rect.top + rect.height / 2;
  
  const cartRect = document.getElementById('cartIcon').getBoundingClientRect();
  const endX = cartRect.left + cartRect.width / 2;
  const endY = cartRect.top + cartRect.height / 2;
  
  const img = document.createElement('img');
  img.src = currentImage;
  img.style.width = '40px';
  img.style.height = '40px';
  img.style.borderRadius = '50%';
  img.style.objectFit = 'cover';
  animation.appendChild(img);
  
  animation.style.left = startX + 'px';
  animation.style.top = startY + 'px';
  
  document.body.appendChild(animation);
  
  setTimeout(() => {
    animation.style.left = endX + 'px';
    animation.style.top = endY + 'px';
    animation.style.transform = 'scale(0.5)';
    animation.style.opacity = '0.5';
  }, 10);
  
  setTimeout(() => {
    document.body.removeChild(animation);
    updateCart();
    showNotification(`${product.name} تمت الإضافة إلى السلة!`);
  }, 800);
}

// Show notification
function showNotification(message) {
  const notification = document.createElement('div');
  notification.textContent = message;
  notification.style.position = 'fixed';
  notification.style.top = '20px';
  notification.style.right = '20px';
  notification.style.background = '#28a745';
  notification.style.color = 'white';
  notification.style.padding = '10px 20px';
  notification.style.borderRadius = '5px';
  notification.style.zIndex = '10000';
  notification.style.boxShadow = '0 3px 10px rgba(0,0,0,0.2)';
  notification.style.transition = 'all 0.3s';
  
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.style.opacity = '0';
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 2000);
}

// Cart Functions
function updateCart() {
  localStorage.setItem('cart', JSON.stringify(cart));
  document.getElementById('cartCount').textContent = cart.reduce((sum, i) => sum + i.qty, 0);
  renderCartItems();
}

function renderCartItems() {
  const container = document.getElementById('cartItems');
  if (cart.length === 0) {
    container.innerHTML = `
      <div class="empty-cart">
        <i class="fas fa-shopping-cart"></i>
        <h3>سلة التسوق فارغة</h3>
        <p>أضف بعض المنتجات إلى سلة التسوق لرؤيتها هنا</p>
      </div>
    `;
    document.getElementById('cartTotal').textContent = '0.00 (د.ل)';
    return;
  }

  container.innerHTML = cart.map(item => `
    <div class="cart-item">
      <img src="${item.images[0]}" class="cart-item-image" alt="${item.name}">
      <div class="cart-item-details">
        <div class="cart-item-name">${item.name}</div>
        <div class="cart-item-price">${formatPrice(item.price)}</div>
        <div class="cart-item-controls">
          <div class="cart-item-qty">
            <button class="qty-btn" onclick="changeQty(${item.id}, -1)">−</button>
            <span class="qty-value">${item.qty}</span>
            <button class="qty-btn" onclick="changeQty(${item.id}, 1)">+</button>
          </div>
          <button class="cart-item-remove" onclick="removeFromCart(${item.id})">إزالة</button>
        </div>
      </div>
    </div>
  `).join('');

  const total = cart.reduce((sum, i) => sum + i.price * i.qty, 0);
  document.getElementById('cartTotal').textContent = formatPrice(total.toFixed(2));
}

function changeQty(id, delta) {
  const item = cart.find(i => i.id === id);
  if (item) {
    item.qty += delta;
    if (item.qty <= 0) removeFromCart(id);
    else updateCart();
  }
}

function removeFromCart(id) {
  cart = cart.filter(i => i.id !== id);
  updateCart();
}

// Modal Functions
const productModal = document.getElementById('productModal');
const cartModal = document.getElementById('cartModal');
const orderModal = document.getElementById('orderModal');

function showModal(modal) {
  modal.classList.add('active');
}

function hideModal(modal) {
  modal.classList.remove('active');
  setTimeout(() => {
    modal.style.display = 'none';
  }, 300);
}

document.getElementById('cartIcon').onclick = () => { 
  renderCartItems(); 
  cartModal.style.display = 'flex';
  setTimeout(() => showModal(cartModal), 10);
};

document.getElementById('closeCart').onclick = () => hideModal(cartModal);
document.getElementById('closeOrder').onclick = () => hideModal(orderModal);
document.getElementById('closeProduct').onclick = () => hideModal(productModal);

document.getElementById('continueShoppingBtn').onclick = () => hideModal(cartModal);

window.onclick = (e) => {
  if (e.target.classList.contains('modal')) hideModal(e.target);
};

// Checkout
document.getElementById('checkoutBtn').onclick = () => {
  hideModal(cartModal);
  setTimeout(() => {
    orderModal.style.display = 'flex';
    setTimeout(() => showModal(orderModal), 10);
  }, 300);
};

// Order Form Submission
document.getElementById('orderForm').onsubmit = (e) => {
  e.preventDefault();
  
  const formData = new FormData(e.target);
  const orderData = {
    name: formData.get('name'),
    phone: formData.get('phone'),
    location: formData.get('location'),
    notes: formData.get('notes'),
    cart: cart,
    total: cart.reduce((sum, i) => sum + i.price * i.qty, 0)
  };
  
  sendOrderEmail(orderData);
  
  cart = [];
  updateCart();
  hideModal(orderModal);
  e.target.reset();
  
  showNotification('تم تقديم طلبك بنجاح! سنتواصل معك عبر الواتس أب قريباً.');
};

// Support Form
document.getElementById('supportForm').onsubmit = (e) => {
  e.preventDefault();
  
  const formData = new FormData(e.target);
  const supportData = {
    name: formData.get('name'),
    phone: formData.get('phone'),
    issue: formData.get('issue')
  };
  
  sendSupportEmail(supportData);
  
  e.target.reset();
  showNotification('تم إرسال طلب الدعم الفني! سنتواصل معك قريباً.');
};

// Product Detail Modal
function showProductDetail(id) {
  const p = allItems.find(x => x.id === id);
  const isUnavailable = unavailableProducts.includes(p.name);
  const isComingSoon = p.isComingSoon;
  const conditionClass = getConditionClass(p.condition);
  
  if (!currentProductImage[id]) {
    currentProductImage[id] = p.images[0];
  }
  
  document.getElementById('productDetail').innerHTML = `
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
      <div>
        <h2>${p.name} ${isUnavailable ? '<span style="color:red;">(غير متوفر)</span>' : ''} ${isComingSoon && !isUnavailable ? '<span style="color:#17a2b8;">(ستتوفر قريباً)</span>' : ''}</h2>
        <p style="color:#888;">${p.brand} • <span class="${conditionClass}">${p.condition}</span></p>
        
        <img class="modal-product-image" src="${currentProductImage[id]}" id="mainProductImage" alt="${p.name}">
        
        <div class="gallery">
          ${p.images.map((src, index) => 
            `<img src="${src}" class="${src === currentProductImage[id] ? 'active' : ''}" onclick="changeMainImage(${id}, '${src}', this)">`
          ).join('')}
        </div>
      </div>
      
      <div>
        ${p.specs ? `
        <div style="margin: 1.5rem 0;">
          <h3 style="margin-bottom: 1rem; color: var(--primary);">المواصفات الفنية</h3>
          <table class="specs-table">
            <tr><th>المواصفة 1</th><td>${p.specs.spec1}</td></tr>
            <tr><th>المواصفة 2</th><td>${p.specs.spec2}</td></tr>
            <tr><th>المواصفة 3</th><td>${p.specs.spec3}</td></tr>
            <tr><th>المواصفة 4</th><td>${p.specs.spec4}</td></tr>
          </table>
        </div>
        ` : ''}
        
        <h2 style="color:var(--primary); margin:1.5rem 0;">${formatPrice(p.price)}</h2>
        ${p.oldPrice ? `<p><s>${formatPrice(p.oldPrice)}</s> وفر ${Math.round((1 - p.price/p.oldPrice)*100)}%</p>` : ''}
        
        <button class="btn add-to-cart" data-id="${p.id}" style="padding:1rem; font-size:1.2rem; margin-bottom: 1.5rem;" ${isUnavailable ? 'disabled' : ''}>
          ${isUnavailable ? 'غير متوفر' : 'أضف إلى السلة'}
        </button>
        
        <div style="background: rgba(13, 110, 253, 0.05); padding: 1.5rem; border-radius: 8px;">
          <h3 style="margin-bottom: 1rem;">وصف المنتج</h3>
          <p>${p.desc || 'مكون عالي الأداء بأحدث التقنيات.'}</p>
        </div>
      </div>
    </div>
  `;
  
  productModal.style.display = 'flex';
  setTimeout(() => showModal(productModal), 10);

  document.querySelector('#productDetail .add-to-cart').addEventListener('click', (e) => {
    addToCart(id, e.target);
  });
}

function changeMainImage(productId, src, element) {
  document.getElementById('mainProductImage').src = src;
  currentProductImage[productId] = src;
  
  document.querySelectorAll('.gallery img').forEach(img => {
    img.classList.remove('active');
  });
  
  element.classList.add('active');
}

// Email sending functions
function sendOrderEmail(orderData) {
  const cartItems = orderData.cart.map(item => 
    `- ${item.name} (الكمية: ${item.qty}) - ${formatPrice(item.price)} لكل قطعة - المجموع: ${formatPrice(item.price * item.qty)}`
  ).join('\n');
  
  const orderSummary = `
طلب جديد من متجر سويتشز

تفاصيل العميل:
الاسم: ${orderData.name}
رقم الهاتف: ${orderData.phone}
العنوان: ${orderData.location}
${orderData.notes ? `ملاحظات: ${orderData.notes}` : 'ملاحظات: لا يوجد'}

تفاصيل الطلب:
${cartItems}

المجموع الكلي: ${formatPrice(orderData.total.toFixed(2))}

شكراً لتعاملكم مع سويتشز!
  `;
  
  const emailParams = {
    to_email: 'ans707kat@gmail.com',
    from_name: 'متجر سويتشز',
    subject: `طلب جديد - ${orderData.name}`,
    customer_name: orderData.name,
    customer_phone: orderData.phone,
    customer_address: orderData.location,
    customer_notes: orderData.notes || 'لا يوجد',
    order_items: cartItems,
    order_total: formatPrice(orderData.total.toFixed(2)),
    message: orderSummary 
  };
  
  emailjs.send('service_e0irzhi', 'template_2d5uee9', emailParams)
    .then(function(response) {
      console.log('Order email sent successfully:', response);
    }, function(error) {
      console.error('Error sending order email:', error);
    });
}

function sendSupportEmail(supportData) {
  const supportMessage = `
طلب دعم فني جديد

تفاصيل العميل:
الاسم: ${supportData.name}
رقم الهاتف: ${supportData.phone}

وصف المشكلة:
${supportData.issue}

سيتم التواصل مع العميل في أقرب وقت ممكن.
  `;
  
  const emailParams = {
    to_email: 'ans707kat@gmail.com',
    from_name: 'متجر سويتشز',
    subject: `طلب دعم جديد - ${supportData.name}`,
    customer_name: supportData.name,
    customer_phone: supportData.phone,
    support_issue: supportData.issue,
    message: supportMessage
  };
  
  emailjs.send('service_e0irzhi', 'template_2d5uee9', emailParams)
    .then(function(response) {
      console.log('Support email sent successfully:', response);
    }, function(error) {
      console.error('Error sending support email:', error);
    });
}

// Initialize the page
function init() {
  renderHorizontalProductsBars();
  renderBottomImageBar();
  initImageSlider();
  updateCart();
}

// Initial cart count
init();
</script>
</body>
</html>