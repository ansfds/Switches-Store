<!DOCTYPE html>
<html lang="ar" dir="rtl" prefix="og: https://ogp.me/ns#">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- ========== الأكواد المضافة لتحسين المشاركة ========== -->
  
  <!-- 1. العنوان الأساسي -->
  <title>سويتشز - متجر قطع الكمبيوتر والأجهزة الإلكترونية</title>
  
  <!-- 2. وصف الموقع لمحركات البحث -->
  <meta name="description" content="متجر سويتشز هو الوجهة المثالية لشراء قطع الكمبيوتر، الإلكترونيات، الإكسسوارات وأحدث التقنيات بأسعار تنافسية.">
  
  <!-- 3. الكلمات المفتاحية -->
  <meta name="keywords" content="قطع كمبيوتر, لابتوبات, شاشات, إكسسوارات, تجميع جهاز, بلايستيشن, ألعاب, قطع غيار كمبيوتر, قطع تجميعة, أجهزة إلكترونية, سويتشز">
  
  <!-- 4. معلومات المالك -->
  <meta name="author" content="متجر سويتشز">
  
  <!-- 5. Open Graph Protocol للفيسبوك والمتصفحات الأخرى -->
  <meta property="og:title" content="سويتشز - متجر قطع الكمبيوتر والأجهزة الإلكترونية">
  <meta property="og:description" content="متجر سويتشز هو الوجهة المثالية لشراء قطع الكمبيوتر، الإلكترونيات، الإكسسوارات وأحدث التقنيات بأسعار تنافسية.">
  <meta property="og:image" content="https://i.imgur.com/1tQdXnn.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="متجر سويتشز - أفضل قطع الكمبيوتر في ليبيا">
  <meta property="og:url" content="https://www.switches-store.ly/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="سويتشز - Switches">
  <meta property="og:locale" content="ar_LY">
  
  <!-- 6. Twitter Cards لتويتر -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@swytshz">
  <meta name="twitter:creator" content="@swytshz">
  <meta name="twitter:title" content="سويتشز - متجر قطع الكمبيوتر والأجهزة الإلكترونية">
  <meta name="twitter:description" content="متجر سويتشز هو الوجهة المثالية لشراء قطع الكمبيوتر، الإلكترونيات، الإكسسوارات وأحدث التقنيات بأسعار تنافسية.">
  <meta name="twitter:image" content="https://i.imgur.com/1tQdXnn.png">
  <meta name="twitter:image:alt" content="متجر سويتشز - أفضل قطع الكمبيوتر في ليبيا">
  
  <!-- 7. Structured Data لتحسين ظهور الموقع في جوجل -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "سويتشز - Switches",
    "alternateName": "متجر سويتشز",
    "url": "https://yourdomain.com",
    "description": "متجر سويتشز هو الوجهة المثالية لشراء قطع الكمبيوتر، الإلكترونيات، الإكسسوارات وأحدث التقنيات بأسعار تنافسية.",
    "image": "https://i.imgur.com/1tQdXnn.png",
    "publisher": {
      "@type": "Organization",
      "name": "سويتشز",
      "logo": {
        "@type": "ImageObject",
        "url": "https://i.imgur.com/7QJkJg9.png"
      }
    },
    "offers": {
      "@type": "Offer",
      "priceCurrency": "LYD",
      "availability": "https://schema.org/InStock"
    }
  }
  </script>
  
  <!-- 8. Favicon أيقونة الموقع -->
  <link rel="icon" type="image/x-icon" href="https://i.imgur.com/7QJkJg9.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://i.imgur.com/7QJkJg9.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://i.imgur.com/7QJkJg9.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://i.imgur.com/7QJkJg9.png">
  
  <!-- ========== نهاية الأكواد المضافة ========== -->
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  
  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  
  <style>
    /* ===== متغيرات التصميم ===== */
    :root {
      --primary-color: #2563eb;
      --primary-dark: #1d4ed8;
      --primary-light: #60a5fa;
      --secondary-color: #8b5cf6;
      --accent-color: #06b6d4;
      --success-color: #10b981;
      --warning-color: #f59e0b;
      --danger-color: #ef4444;
      
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --text-tertiary: #94a3b8;
      
      --border-color: #e2e8f0;
      --shadow-color: rgba(0, 0, 0, 0.08);
      --shadow-hover: rgba(0, 0, 0, 0.12);
      
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      
      --transition-fast: 0.2s ease;
      --transition-normal: 0.3s ease;
      --transition-slow: 0.5s ease;
      
      --header-height: 70px;
      --container-width: 1400px;
    }
    
    [data-theme="dark"] {
      --primary-color: #3b82f6;
      --primary-dark: #2563eb;
      --primary-light: #93c5fd;
      --secondary-color: #a78bfa;
      --accent-color: #22d3ee;
      
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-tertiary: #334155;
      
      --text-primary: #f1f5f9;
      --text-secondary: #cbd5e1;
      --text-tertiary: #94a3b8;
      
      --border-color: #475569;
      --shadow-color: rgba(0, 0, 0, 0.3);
      --shadow-hover: rgba(0, 0, 0, 0.4);
    }
    
    /* ===== إعادة تعيين الأنماط ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: 'Segoe UI', 'Cairo', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
      transition: background-color var(--transition-normal), color var(--transition-normal);
    }
    
    /* ===== التصميم العام ===== */
    .container {
      width: 100%;
      max-width: var(--container-width);
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* ===== الهيدر ===== */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--header-height);
      background-color: var(--bg-primary);
      box-shadow: 0 2px 10px var(--shadow-color);
      z-index: 1000;
      padding: 0 20px;
    }
    
    .header-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 100%;
      max-width: var(--container-width);
      margin: 0 auto;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      cursor: pointer;
    }
    
    .logo-img {
      height: 40px;
      width: auto;
      border-radius: var(--radius-sm);
    }
    
    .logo-text {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .logo-text span {
      color: var(--text-primary);
    }
    
    .header-actions {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    /* زر الرجوع الجديد */
    .back-to-home {
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: var(--radius-md);
      font-size: 1rem;
      cursor: pointer;
      transition: all var(--transition-normal);
      text-decoration: none;
      margin-left: auto;
    }
    
    .back-to-home:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    /* ===== زر السلة ===== */
    .cart-btn {
      position: relative;
      background: none;
      border: none;
      font-size: 1.4rem;
      color: var(--text-primary);
      cursor: pointer;
      padding: 8px;
      border-radius: var(--radius-md);
      transition: all var(--transition-normal);
    }
    
    .cart-btn:hover {
      background-color: var(--bg-tertiary);
      transform: translateY(-2px);
    }
    
    .cart-count {
      position: absolute;
      top: -5px;
      left: -5px;
      background-color: var(--danger-color);
      color: white;
      font-size: 0.7rem;
      font-weight: 600;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* ===== زر الثيم ===== */
    .theme-toggle {
      background: none;
      border: none;
      font-size: 1.3rem;
      color: var(--text-primary);
      cursor: pointer;
      padding: 8px;
      border-radius: var(--radius-md);
      transition: all var(--transition-normal);
    }
    
    .theme-toggle:hover {
      background-color: var(--bg-tertiary);
      transform: rotate(15deg);
    }
    
    /* ===== القسم الرئيسي ===== */
    .main-content {
      margin-top: var(--header-height);
      padding: 30px 0;
    }
    
    /* ===== شريط الإعلانات المتحركة ===== */
    .hero-slider {
      margin-bottom: 40px;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: 0 8px 30px var(--shadow-color);
    }
    
    .swiper {
      width: 100%;
      height: 400px;
      border-radius: var(--radius-lg);
    }
    
    .swiper-slide {
      position: relative;
    }
    
    .swiper-slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .slide-overlay {
      position: absolute;
      bottom: 0;
      right: 0;
      left: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
      padding: 40px;
      color: white;
    }
    
    .slide-title {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 10px;
    }
    
    .slide-description {
      font-size: 1.1rem;
      opacity: 0.9;
      max-width: 600px;
    }
    
    .swiper-pagination-bullet {
      background: white !important;
      opacity: 0.5;
      width: 10px !important;
      height: 10px !important;
    }
    
    .swiper-pagination-bullet-active {
      opacity: 1 !important;
      background: var(--primary-color) !important;
    }
    
    .swiper-button-next,
    .swiper-button-prev {
      color: white !important;
      background: rgba(0,0,0,0.3);
      width: 50px !important;
      height: 50px !important;
      border-radius: 50%;
      transition: all var(--transition-normal);
    }
    
    .swiper-button-next:hover,
    .swiper-button-prev:hover {
      background: rgba(0,0,0,0.5);
      transform: scale(1.1);
    }
    
    .swiper-button-next:after,
    .swiper-button-prev:after {
      font-size: 1.2rem !important;
    }
    
    /* ===== ميزات الموقع ===== */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 50px;
    }
    
    .feature-card {
      background: var(--bg-secondary);
      border-radius: var(--radius-lg);
      padding: 30px;
      text-align: center;
      transition: all var(--transition-normal);
      border: 1px solid var(--border-color);
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px var(--shadow-hover);
      border-color: var(--primary-light);
    }
    
    .feature-icon {
      font-size: 2.5rem;
      color: var(--primary-color);
      margin-bottom: 15px;
    }
    
    .feature-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text-primary);
    }
    
    .feature-description {
      color: var(--text-secondary);
      font-size: 0.95rem;
    }
    
    /* ===== تحسين حجم الأيقونات على الهاتف ===== */
    @media (max-width: 768px) {
      .feature-icon {
        font-size: 2rem; /* تقليل حجم الأيقونات على الهاتف */
      }
      
      .feature-card {
        padding: 20px 15px;
      }
      
      .feature-title {
        font-size: 1.1rem;
      }
      
      .feature-description {
        font-size: 0.9rem;
      }
    }
    
    @media (min-width: 769px) {
      .feature-icon {
        font-size: 2.5rem; /* الحفاظ على الحجم الأصلي على الكمبيوتر */
      }
    }
    
    /* ===== أقسام المنتجات ===== */
    .products-section {
      margin-bottom: 60px;
      animation: fadeInUp 0.8s ease;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--border-color);
    }
    
    .section-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-primary);
    }
    
    .section-icon {
      color: var(--primary-color);
    }
    
    /* ===== شبكة المنتجات الثابتة ===== */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 25px;
      margin-bottom: 30px;
    }
    
    @media (max-width: 1200px) {
      .products-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    @media (max-width: 992px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }
    }
    
    /* تحسينات للهواتف - التعديلات المطلوبة */
    @media (max-width: 768px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
      }
      
      .product-card {
        height: auto;
        min-height: 380px;
      }
      
      .product-image-container {
        height: 180px;
      }
      
      .product-content {
        padding: 15px;
      }
      
      .product-title {
        font-size: 1rem;
        height: 2.8em;
      }
      
      .current-price {
        font-size: 1.1rem;
      }
      
      .old-price {
        font-size: 0.9rem;
      }
    }
    
    @media (max-width: 480px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }
      
      .product-card {
        min-height: 350px;
      }
      
      .product-image-container {
        height: 150px;
      }
      
      .btn-add-cart {
        padding: 10px;
        font-size: 0.9rem;
      }
      
      .section-title {
        font-size: 1.4rem;
      }
    }
    
    @media (max-width: 360px) {
      .products-grid {
        grid-template-columns: 1fr;
      }
    }
    
    /* صفحة جميع المنتجات */
    .all-products-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 25px;
    }
    
    @media (max-width: 1200px) {
      .all-products-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    @media (max-width: 992px) {
      .all-products-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 768px) {
      .all-products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
      }
    }
    
    @media (max-width: 480px) {
      .all-products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }
    }
    
    @media (max-width: 360px) {
      .all-products-grid {
        grid-template-columns: 1fr;
      }
    }
    
    /* تحسين ترتيب أيقونات الحالة */
    .product-badges-container {
      position: absolute;
      top: 15px;
      right: 15px;
      z-index: 2;
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: flex-end;
    }
    
    .product-badge {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      white-space: nowrap;
    }
    
    .badge-discount {
      background: linear-gradient(135deg, var(--success-color), #059669);
      color: white;
    }
    
    .badge-new {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
    }
    
    .badge-soon {
      background: linear-gradient(135deg, var(--accent-color), #0891b2);
      color: white;
    }
    
    .badge-unavailable {
      background: linear-gradient(135deg, var(--danger-color), #dc2626);
      color: white;
    }
    
    .product-card {
      background: var(--bg-primary);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: 0 5px 20px var(--shadow-color);
      transition: all var(--transition-normal);
      border: 1px solid var(--border-color);
      position: relative;
      height: 420px;
      display: flex;
      flex-direction: column;
    }
    
    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 40px var(--shadow-hover);
      border-color: var(--primary-light);
    }
    
    .product-image-container {
      height: 220px;
      overflow: hidden;
      position: relative;
    }
    
    .product-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform var(--transition-slow);
    }
    
    .product-card:hover .product-image {
      transform: scale(1.05);
    }
    
    .product-content {
      padding: 20px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .product-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text-primary);
      line-height: 1.4;
      height: 3em;
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }
    
    .product-meta {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }
    
    .product-brand {
      font-weight: 600;
      color: var(--primary-color);
    }
    
    .product-condition {
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    .condition-new {
      background-color: rgba(16, 185, 129, 0.1);
      color: var(--success-color);
    }
    
    .condition-used {
      background-color: rgba(245, 158, 11, 0.1);
      color: var(--warning-color);
    }
    
    .condition-open-box {
      background-color: rgba(59, 130, 246, 0.1);
      color: var(--primary-color);
    }
    
    .product-price {
      margin-top: auto;
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .current-price {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--primary-color);
    }
    
    .old-price {
      font-size: 1rem;
      color: var(--text-tertiary);
      text-decoration: line-through;
    }
    
    .discount-percent {
      background-color: rgba(239, 68, 68, 0.1);
      color: var(--danger-color);
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.85rem;
      font-weight: 600;
    }
    
    .product-actions {
      margin-top: 15px;
    }
    
    .btn-add-cart {
      width: 100%;
      padding: 12px;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      border: none;
      border-radius: var(--radius-md);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-normal);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    .btn-add-cart:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
    }
    
    .btn-add-cart:disabled {
      background: var(--bg-tertiary);
      color: var(--text-tertiary);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    /* ===== زر عرض المزيد ===== */
    .show-more-container {
      text-align: center;
      margin-top: 30px;
    }
    
    .btn-show-more {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 32px;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      border: none;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-normal);
      box-shadow: 0 5px 20px rgba(37, 99, 235, 0.2);
    }
    
    .btn-show-more:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
      gap: 15px;
    }
    
    /* ===== الفلاتر ===== */
    .filters-section {
      background: var(--bg-secondary);
      border-radius: var(--radius-lg);
      padding: 25px;
      margin-bottom: 40px;
      border: 1px solid var(--border-color);
    }
    
    .filters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }
    
    .search-container {
      grid-column: 1 / -1;
      position: relative;
    }
    
    .search-input {
      width: 100%;
      padding: 14px 20px 14px 50px;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      background: var(--bg-primary);
      color: var(--text-primary);
      font-size: 1rem;
      transition: all var(--transition-normal);
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    
    .search-icon {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-tertiary);
    }
    
    .filter-select {
      width: 100%;
      padding: 14px 20px;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      background: var(--bg-primary);
      color: var(--text-primary);
      font-size: 1rem;
      cursor: pointer;
      transition: all var(--transition-normal);
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%2394a3b8' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: left 20px center;
      background-size: 16px;
      padding-left: 50px;
    }
    
    .filter-select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    
    /* ===== صفحة جميع المنتجات ===== */
    .all-products-page {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    .all-products-page.active {
      display: block;
    }
    
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }
    
    .back-btn {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: var(--radius-md);
      cursor: pointer;
      font-size: 1rem;
      transition: background var(--transition-normal);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .back-btn:hover {
      background: var(--primary-dark);
    }
    
    /* ===== قسم الدعم ===== */
    .support-section {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      border-radius: var(--radius-xl);
      padding: 40px;
      margin: 60px 0;
      color: white;
      text-align: center;
    }
    
    .support-title {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 10px;
    }
    
    .support-description {
      font-size: 1.1rem;
      opacity: 0.9;
      margin-bottom: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .support-form {
      max-width: 500px;
      margin: 0 auto;
      display: grid;
      gap: 20px;
    }
    
    .form-input {
      width: 100%;
      padding: 16px 20px;
      border: none;
      border-radius: var(--radius-md);
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 1rem;
      transition: all var(--transition-normal);
    }
    
    .form-input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }
    
    .form-input:focus {
      outline: none;
      background: rgba(255, 255, 255, 0.15);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);
    }
    
    .btn-submit {
      padding: 16px;
      background: white;
      color: var(--primary-color);
      border: none;
      border-radius: var(--radius-md);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-normal);
    }
    
    .btn-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    }
    
    /* ===== الشريط السفلي للصور ===== */
    .bottom-image-bar {
      margin: 4rem 0 2rem 0;
      padding: 1.5rem 0;
      background: transparent;
      position: relative;
      border-top: 1px solid rgba(0,0,0,0.1);
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    
    .bottom-bar-wrapper {
      position: relative;
      width: 100%;
    }
    
    .bottom-bar-track {
      display: flex;
      gap: 3rem;
      overflow-x: auto;
      padding: 0.5rem 0;
      scroll-behavior: smooth;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    
    .bottom-bar-track::-webkit-scrollbar {
      display: none;
    }
    
    .bottom-image-item {
      flex: 0 0 auto;
      width: 180px;
      height: 120px;
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      position: relative;
      
      /* خلفية بيضاء مع ملمس */
      background: 
        linear-gradient(to bottom, #ffffff 0%, #f9f9f9 100%),
        repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(255,255,255,0.3) 2px, rgba(255,255,255,0.3) 4px);
      
      /* ظل ثلاثي الأبعاد */
      box-shadow: 
        0 5px 15px rgba(0,0,0,0.08),
        0 0 0 1px rgba(0,0,0,0.05),
        inset 0 0 20px rgba(0,0,0,0.02);
      
      transition: all 0.3s ease;
      padding: 12px;
    }
    
    /* إطار داخلي أبيض سميك */
    .bottom-image-item::before {
      content: '';
      position: absolute;
      top: 6px;
      left: 6px;
      right: 6px;
      bottom: 6px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 4px;
      z-index: 1;
      pointer-events: none;
    }
    
    .bottom-image-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 3px;
      position: relative;
      z-index: 2;
      
      /* تأثير صورة ورقية */
      box-shadow: 
        inset 0 0 10px rgba(0,0,0,0.1),
        0 1px 3px rgba(0,0,0,0.1);
      
      /* تدرج لطيف */
      background: linear-gradient(to bottom, rgba(255,255,255,0.3) 0%, rgba(0,0,0,0.1) 100%);
    }
    
    .bottom-image-item:hover {
      transform: translateY(-5px) rotate(1deg);
      box-shadow: 
        0 10px 25px rgba(0,0,0,0.15),
        0 0 0 1px rgba(0,0,0,0.08),
        inset 0 0 25px rgba(0,0,0,0.03);
    }
    
    .bottom-image-item:hover::before {
      background: rgba(255, 255, 255, 0.9);
    }
    
    .bottom-nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.6);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      transition: all 0.3s ease;
      opacity: 0;
    }
    
    .bottom-bar-wrapper:hover .bottom-nav-arrow {
      opacity: 1;
    }
    
    .bottom-nav-arrow:hover {
      background: rgba(0, 0, 0, 0.9);
      transform: translateY(-50%) scale(1.1);
    }
    
    .bottom-nav-arrow.left {
      right: 10px;
    }
    
    .bottom-nav-arrow.right {
      left: 10px;
    }
    
    /* ===== قسم التواصل الاجتماعي ===== */
    .social-section {
      text-align: center;
      margin: 50px 0;
    }
    
    .social-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 30px;
      color: var(--text-primary);
    }
    
    .social-links {
      display: flex;
      justify-content: center;
      gap: 25px;
      flex-wrap: wrap;
    }
    
    .social-link {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-decoration: none;
      transition: transform var(--transition-normal);
    }
    
    .social-link:hover {
      transform: translateY(-5px);
    }
    
    .social-icon {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      margin-bottom: 10px;
      color: white;
      transition: transform var(--transition-normal);
    }
    
    .social-link:hover .social-icon {
      transform: scale(1.1);
    }
    
    .social-icon.facebook { background: #1877f2; }
    .social-icon.whatsapp { background: #25d366; }
    .social-icon.instagram { 
      background: linear-gradient(45deg, #405de6, #5851db, #833ab4, #c13584, #e1306c, #fd1d1d);
    }
    
    .social-name {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    /* ===== الفوتر ===== */
    footer {
      background: var(--bg-secondary);
      padding: 50px 0 30px;
      margin-top: 60px;
      border-top: 1px solid var(--border-color);
    }
    
    .footer-content {
      text-align: center;
      color: var(--text-secondary);
    }
    
    .footer-logo {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 20px;
    }
    
    .copyright {
      font-size: 0.95rem;
      opacity: 0.8;
    }
    
    /* ===== المودالات ===== */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      padding: 20px;
      backdrop-filter: blur(5px);
      animation: fadeIn var(--transition-normal);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .modal.active {
      display: flex;
    }
    
    .modal-content {
      background: var(--bg-primary);
      border-radius: var(--radius-xl);
      max-width: 900px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      animation: slideUp 0.4s ease;
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .modal-close {
      position: absolute;
      top: 20px;
      left: 20px;
      background: none;
      border: none;
      font-size: 2rem;
      color: var(--text-tertiary);
      cursor: pointer;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-normal);
      z-index: 10;
    }
    
    .modal-close:hover {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      transform: rotate(90deg);
    }
    
    /* ===== مودال المنتج ===== */
    .product-modal-content {
      padding: 30px;
    }
    
    .product-modal-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
    }
    
    @media (max-width: 768px) {
      .product-modal-grid {
        grid-template-columns: 1fr;
      }
    }
    
    .modal-product-images {
      position: relative;
    }
    
    .main-product-image {
      width: 100%;
      height: 400px;
      object-fit: contain;
      border-radius: var(--radius-lg);
      background: var(--bg-secondary);
      margin-bottom: 20px;
    }
    
    .product-thumbnails {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding: 10px 0;
    }
    
    .product-thumbnail {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: var(--radius-sm);
      cursor: pointer;
      opacity: 0.6;
      transition: all var(--transition-normal);
      border: 2px solid transparent;
    }
    
    .product-thumbnail:hover,
    .product-thumbnail.active {
      opacity: 1;
      border-color: var(--primary-color);
      transform: scale(1.05);
    }
    
    .modal-product-details h2 {
      font-size: 1.8rem;
      margin-bottom: 10px;
      color: var(--text-primary);
    }
    
    .modal-product-meta {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .modal-price {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-color);
      margin: 20px 0;
    }
    
    .modal-specs {
      margin: 25px 0;
    }
    
    .specs-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--text-primary);
    }
    
    .specs-list {
      list-style: none;
      background: var(--bg-secondary);
      border-radius: var(--radius-md);
      padding: 20px;
    }
    
    .spec-item {
      padding: 10px 0;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
    }
    
    .spec-item:last-child {
      border-bottom: none;
    }
    
    .spec-label {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .spec-value {
      color: var(--text-secondary);
      text-align: left;
    }
    
    .modal-description {
      margin: 25px 0;
      line-height: 1.8;
      color: var(--text-secondary);
    }
    
    .modal-actions {
      display: flex;
      gap: 15px;
      margin-top: 30px;
    }
    
    .btn-modal {
      flex: 1;
      padding: 16px;
      border-radius: var(--radius-md);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-normal);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      border: none;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(37, 99, 235, 0.3);
    }
    
    .btn-secondary {
      background: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }
    
    .btn-secondary:hover {
      background: var(--bg-tertiary);
      transform: translateY(-2px);
    }
    
    /* ===== مودال السلة ===== */
    .cart-modal-content {
      padding: 30px;
      max-width: 800px;
    }
    
    .cart-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 25px;
      color: var(--text-primary);
    }
    
    .cart-items {
      max-height: 400px;
      overflow-y: auto;
      margin-bottom: 25px;
    }
    
    .cart-empty {
      text-align: center;
      padding: 50px 20px;
      color: var(--text-tertiary);
    }
    
    .cart-empty i {
      font-size: 4rem;
      margin-bottom: 20px;
      opacity: 0.3;
    }
    
    .cart-item {
      display: flex;
      gap: 20px;
      padding: 20px;
      border-bottom: 1px solid var(--border-color);
      align-items: center;
    }
    
    .cart-item:last-child {
      border-bottom: none;
    }
    
    .cart-item-image {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: var(--radius-md);
    }
    
    .cart-item-details {
      flex: 1;
    }
    
    .cart-item-name {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 5px;
      color: var(--text-primary);
    }
    
    .cart-item-price {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--primary-color);
    }
    
    .cart-item-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .quantity-control {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .quantity-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: none;
      background: var(--bg-secondary);
      color: var(--text-primary);
      font-size: 1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-normal);
    }
    
    .quantity-btn:hover {
      background: var(--bg-tertiary);
      transform: scale(1.1);
    }
    
    .quantity-value {
      min-width: 30px;
      text-align: center;
      font-weight: 600;
    }
    
    .remove-btn {
      padding: 8px 16px;
      background: var(--danger-color);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      font-size: 0.9rem;
      cursor: pointer;
      transition: all var(--transition-normal);
    }
    
    .remove-btn:hover {
      background: #dc2626;
      transform: translateY(-2px);
    }
    
    .cart-summary {
      border-top: 2px solid var(--border-color);
      padding-top: 25px;
    }
    
    .cart-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 25px;
    }
    
    .total-amount {
      color: var(--primary-color);
    }
    
    .cart-buttons {
      display: flex;
      gap: 15px;
    }
    
    /* ===== مودال الطلب ===== */
    .order-modal-content {
      padding: 40px;
      max-width: 500px;
    }
    
    .order-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--text-primary);
      text-align: center;
    }
    
    .order-description {
      text-align: center;
      color: var(--text-secondary);
      margin-bottom: 30px;
    }
    
    .order-form {
      display: grid;
      gap: 20px;
    }
    
    .form-group {
      display: grid;
      gap: 8px;
    }
    
    .form-label {
      font-weight: 600;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .form-label i {
      color: var(--primary-color);
    }
    
    /* تحسين وضوح النص في المودال للوضع الساطع */
    .form-input {
      background: var(--bg-primary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
      padding: 14px 20px;
      border-radius: var(--radius-md);
      font-size: 1rem;
      transition: all var(--transition-normal);
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    
    .form-input::placeholder {
      color: var(--text-tertiary);
    }
    
    /* تحسين وضوح النص في مودال الطلب للوضع الساطع */
    .order-modal-content .form-label {
      color: var(--text-primary);
    }
    
    .order-modal-content .form-input {
      background: var(--bg-primary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }
    
    .order-modal-content .form-input::placeholder {
      color: var(--text-tertiary);
    }
    
    /* ===== التجاوبية ===== */
    @media (max-width: 1024px) {
      .products-grid,
      .all-products-grid {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .swiper {
        height: 350px;
      }
      
      .slide-title {
        font-size: 1.8rem;
      }
    }
    
    @media (max-width: 768px) {
      .header-container {
        padding: 0 10px;
      }
      
      .logo-text {
        font-size: 1.5rem;
      }
      
      .swiper {
        height: 300px;
      }
      
      .slide-overlay {
        padding: 25px;
      }
      
      .slide-title {
        font-size: 1.5rem;
      }
      
      .slide-description {
        font-size: 1rem;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
      
      .products-grid,
      .all-products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }
      
      .support-section {
        padding: 30px 20px;
      }
      
      .support-title {
        font-size: 1.8rem;
      }
      
      .filters-grid {
        grid-template-columns: 1fr;
      }
      
      .bottom-image-item {
        width: 150px;
        height: 100px;
      }
      
      /* إخفاء زر الرجوع في الهيدر على الهاتف */
      .back-to-home {
        display: none;
      }
    }
    
    @media (max-width: 576px) {
      .logo-text {
        font-size: 1.3rem;
      }
      
      .logo-img {
        height: 32px;
      }
      
      .header-actions {
        gap: 10px;
      }
      
      .swiper {
        height: 250px;
      }
      
      .slide-overlay {
        padding: 20px;
      }
      
      .slide-title {
        font-size: 1.3rem;
      }
      
      .slide-description {
        font-size: 0.9rem;
      }
      
      .features {
        grid-template-columns: 1fr;
      }
      
      .products-grid,
      .all-products-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .modal-actions {
        flex-direction: column;
      }
      
      .cart-buttons {
        flex-direction: column;
      }
      
      .social-links {
        gap: 15px;
      }
      
      .social-icon {
        width: 60px;
        height: 60px;
        font-size: 1.5rem;
      }
      
      .bottom-image-item {
        width: 130px;
        height: 90px;
      }
    }
    
    /* ===== أنيميشن إضافة للسلة ===== */
    .cart-animation {
      position: fixed;
      pointer-events: none;
      z-index: 10000;
      transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    /* ===== التنبيهات ===== */
    .notification {
      position: fixed;
      top: 90px;
      right: 20px;
      background: var(--success-color);
      color: white;
      padding: 15px 25px;
      border-radius: var(--radius-md);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      animation: slideInRight 0.3s ease, fadeOut 0.3s ease 2.7s;
      max-width: 350px;
    }
    
    @keyframes slideInRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    @keyframes fadeOut {
      to {
        opacity: 0;
      }
    }
    
    .notification.error {
      background: var(--danger-color);
    }
    
    .notification.warning {
      background: var(--warning-color);
    }
    
    .notification.info {
      background: var(--accent-color);
    }
    
    /* ===== تحسينات التحميل ===== */
    .loading {
      position: relative;
      overflow: hidden;
    }
    
    .loading::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
  </style>
</head>
<body>
  <!-- الهيدر -->
  <header>
    <div class="header-container">
      <a href="#" class="logo" id="logoLink">
        <img src="https://qwertyqop.com/cdn/shop/files/individualswitch.png?v=1698726047" alt="شعار سويتشز" class="logo-img">
        <div class="logo-text">سويتشز<span> - Switches</span></div>
      </a>
      
      <div class="header-actions">
        <!-- زر الرجوع الجديد -->
        <button class="back-to-home" id="backToHome">
          <i class="fas fa-home"></i>
          الرئيسية
        </button>
        
        <button class="cart-btn" id="cartBtn">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count" id="cartCount">0</span>
        </button>
        
        <button class="theme-toggle" id="themeToggle">
          <i class="fas fa-moon"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- الصفحة الرئيسية -->
  <main class="main-content">
    <div class="container">
      <!-- شريط الإعلانات المتحركة -->
      <section class="hero-slider">
        <div class="swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="https://pcandparts.com/wp-content/uploads/asus_rog.jpg" alt="أحدث قطع الكمبيوتر">
              <div class="slide-overlay">
                <h2 class="slide-title">أحدث قطع الكمبيوتر</h2>
                <p class="slide-description">اكتشف مجموعتنا المتميزة من أحدث المعالجات والكروت والقطع بأفضل الأسعار</p>
              </div>
            </div>
            <div class="swiper-slide">
              <img src="https://dlcdnwebimgs.asus.com/gain/DBBA29D7-A5AF-4074-ABC8-795718A78EC0/fwebp" alt="شاشات الألعاب">
              <div class="slide-overlay">
                <h2 class="slide-title">شاشات الألعاب الاحترافية</h2>
                <p class="slide-description">أداء عالي ودقة فائقة لتجربة ألعاب لا تُنسى مع أفضل الشاشات</p>
              </div>
            </div>
            <div class="swiper-slide">
              <img src="https://m.media-amazon.com/images/I/81Smi3twk5L.jpg" alt="إكسسوارات الكمبيوتر">
              <div class="slide-overlay">
                <h2 class="slide-title">إكسسوارات متميزة</h2>
                <p class="slide-description">كل ما تحتاجه لتجهيز محطة العمل الخاصة بك بكفاءة وجودة عالية</p>
              </div>
            </div>
          </div>
          
          <div class="swiper-pagination"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </section>

      <!-- ميزات الموقع -->
      <section class="features">
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-shipping-fast"></i>
          </div>
          <h3 class="feature-title">توصيل سريع</h3>
          <p class="feature-description">توصيل لجميع المدن خلال 24-48 ساعة</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <h3 class="feature-title">ضمان شامل</h3>
          <p class="feature-description">ضمان على جميع المنتجات لمدة تصل إلى سنتين</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-headset"></i>
          </div>
          <h3 class="feature-title">دعم فني</h3>
          <p class="feature-description">دعم فني مجاني على مدار الساعة</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-undo"></i>
          </div>
          <h3 class="feature-title">إرجاع سهل</h3>
          <p class="feature-description">سياسة إرجاع وإستبدال لمدة 14 يوم</p>
        </div>
      </section>

      <!-- فلاتر البحث -->
      <section class="filters-section">
        <div class="filters-grid">
          <div class="search-container">
            <input type="text" class="search-input" id="searchInput" placeholder="ابحث عن منتج...">
            <i class="fas fa-search search-icon"></i>
          </div>
          
          <select class="filter-select" id="categoryFilter">
            <option value="">جميع الفئات</option>
            <option value="قطع التجميعة">قطع التجميعة</option>
            <option value="لابتوبات">لابتوبات</option>
            <option value="شاشات">شاشات</option>
            <option value="إكسسوارات">إكسسوارات</option>
            <option value="بلايستيشن">بلايستيشن</option>
          </select>
          
          <select class="filter-select" id="brandFilter">
            <option value="">جميع الماركات</option>
            <option value="Intel">Intel</option>
            <option value="AMD">AMD</option>
            <option value="NVIDIA">NVIDIA</option>
            <option value="ASUS">ASUS</option>
            <option value="MSI">MSI</option>
            <option value="LG">LG</option>
          </select>
          
          <select class="filter-select" id="conditionFilter">
            <option value="">جميع الحالات</option>
            <option value="جديد">جديد</option>
            <option value="مستعمل">مستعمل</option>
            <option value="علبة مفتوحة">علبة مفتوحة</option>
          </select>
        </div>
      </section>

            <!-- قسم المنتجات الأكثر مبيعاً (ثابت) - أخيراً -->
      <section class="products-section">
        <div class="section-header">
          <h2 class="section-title">
            <i class="fas fa-fire section-icon"></i>
            المنتجات الأكثر مبيعاً
          </h2>
        </div>
        
        <div class="products-grid" id="bestSellingProducts">
          <!-- سيتم ملؤها بالجافاسكريبت -->
        </div>
        
        <div class="show-more-container">
          <button class="btn-show-more" onclick="showAllProducts('الأكثر مبيعاً')">
            <span>عرض المزيد</span>
            <i class="fas fa-arrow-left"></i>
          </button>
        </div>
      </section>
      
      <!-- قسم العروض المخفضة (ثابت) - ثانياً -->
      <section class="products-section">
        <div class="section-header">
          <h2 class="section-title">
            <i class="fas fa-tag section-icon"></i>
            عروض مخفضة مع خصومات خاصة
          </h2>
        </div>
        
        <div class="products-grid" id="discountedProducts">
          <!-- سيتم ملؤها بالجافاسكريبت -->
        </div>
        
        <div class="show-more-container">
          <button class="btn-show-more" onclick="showAllProducts('العروض الخاصة')">
            <span>عرض المزيد</span>
            <i class="fas fa-arrow-left"></i>
          </button>
        </div>
      </section>

      <!-- قسم قريباً في المتجر (ثابت) - جعلته أولاً كما طلبت -->
      <section class="products-section">
        <div class="section-header">
          <h2 class="section-title">
            <i class="fas fa-clock section-icon"></i>
            قريبًا في المتجر
          </h2>
        </div>
        
        <div class="products-grid" id="comingSoonProducts">
          <!-- سيتم ملؤها بالجافاسكريبت -->
        </div>
        
        <div class="show-more-container">
          <button class="btn-show-more" onclick="showAllProducts('المنتجات الجديدة')">
            <span>عرض المزيد</span>
            <i class="fas fa-arrow-left"></i>
          </button>
        </div>
      </section>




      <!-- الشريط السفلي للصور -->
      <div class="bottom-image-bar">
        <div class="container">
          <div class="bottom-bar-wrapper">
            <button class="bottom-nav-arrow left" onclick="scrollBottomBar('left')">
              <i class="fas fa-chevron-right"></i>
            </button>
            <div class="bottom-bar-track" id="bottomImageBar">
              <!-- سيتم ملؤها بالجافاسكريبت -->
            </div>
            <button class="bottom-nav-arrow right" onclick="scrollBottomBar('right')">
              <i class="fas fa-chevron-left"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- قسم الدعم الفني -->
      <section class="support-section">
        <h2 class="support-title">الدعم الفني</h2>
        <p class="support-description">لديك استفسار أو تحتاج إلى مساعدة؟ فريق الدعم الفني لدينا جاهز لمساعدتك على مدار الساعة</p>
        
        <form class="support-form" id="supportForm">
          <input type="text" class="form-input" name="name" placeholder="اسمك" required>
          <input type="tel" class="form-input" name="phone" placeholder="رقم الهاتف" required>
          <textarea class="form-input" name="message" placeholder="رسالتك..." rows="4" required></textarea>
          <button type="submit" class="btn-submit">
            <i class="fas fa-paper-plane"></i>
            إرسال الرسالة
          </button>
        </form>
      </section>

      <!-- التواصل الاجتماعي -->
      <section class="social-section">
        <h2 class="social-title">تابعنا على وسائل التواصل</h2>
        <div class="social-links">
          <a href="https://www.facebook.com/profile.php?id=61582599726123" class="social-link" target="_blank">
            <div class="social-icon facebook">
              <i class="fab fa-facebook-f"></i>
            </div>
            <span class="social-name">فيسبوك</span>
          </a>
          
          <a href="https://wa.me/c/218931853169" class="social-link" target="_blank">
            <div class="social-icon whatsapp">
              <i class="fab fa-whatsapp"></i>
            </div>
            <span class="social-name">واتساب</span>
          </a>
          
          <a href="https://www.instagram.com/swytshz/" class="social-link" target="_blank">
            <div class="social-icon instagram">
              <i class="fab fa-instagram"></i>
            </div>
            <span class="social-name">إنستغرام</span>
          </a>
        </div>
      </section>
    </div>
  </main>

  <!-- صفحة جميع المنتجات -->
  <div class="container all-products-page" id="allProductsPage">
    <div class="page-header">
      <h2 id="allProductsTitle">جميع المنتجات</h2>
      <button class="back-btn" onclick="showMainPage()">
        <i class="fas fa-arrow-right"></i>
        العودة للصفحة الرئيسية
      </button>
    </div>
    
    <!-- فلاتر صفحة جميع المنتجات -->
    <div class="filters-section">
      <div class="filters-grid">
        <div class="search-container">
          <input type="text" class="search-input" id="allProductsSearchInput" placeholder="ابحث في جميع المنتجات...">
          <i class="fas fa-search search-icon"></i>
        </div>
        
        <select class="filter-select" id="allProductsCategoryFilter">
          <option value="">جميع الفئات</option>
          <option value="قطع التجميعة">قطع التجميعة</option>
          <option value="لابتوبات">لابتوبات</option>
          <option value="شاشات">شاشات</option>
          <option value="إكسسوارات">إكسسوارات</option>
          <option value="بلايستيشن">بلايستيشن</option>
        </select>
        
        <select class="filter-select" id="allProductsBrandFilter">
          <option value="">جميع الماركات</option>
          <option value="Intel">Intel</option>
          <option value="AMD">AMD</option>
          <option value="NVIDIA">NVIDIA</option>
          <option value="ASUS">ASUS</option>
          <option value="MSI">MSI</option>
          <option value="LG">LG</option>
          <option value="Projector">Projector</option>
          <option value="LDON">LDON</option>
          <option value="PlayStation">PlayStation</option>
          <option value="LOGITECH">LOGITECH</option>
          <option value="Combo">Combo</option>
          <option value="AJAZZ">AJAZZ</option>
        </select>
        
        <select class="filter-select" id="allProductsConditionFilter">
          <option value="">جميع الحالات</option>
          <option value="جديد">جديد</option>
          <option value="مستعمل">مستعمل</option>
          <option value="علبة مفتوحة">علبة مفتوحة</option>
        </select>
      </div>
    </div>
    
    <!-- جميع المنتجات -->
    <div class="all-products-grid" id="allProductsGrid">
      <!-- سيتم ملؤها بالجافاسكريبت -->
    </div>
  </div>

  <!-- الفوتر -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">سويتشز - Switches</div>
        <p class="copyright">© 2024 جميع الحقوق محفوظة. تم التطوير بحب ❤️</p>
      </div>
    </div>
  </footer>

  <!-- المودالات -->
  
  <!-- مودال المنتج -->
  <div class="modal" id="productModal">
    <div class="modal-content product-modal-content">
      <button class="modal-close" id="closeProductModal">&times;</button>
      <div class="product-modal-grid" id="productModalContent">
        <!-- سيتم ملؤها بالجافاسكريبت -->
      </div>
    </div>
  </div>

  <!-- مودال السلة -->
  <div class="modal" id="cartModal">
    <div class="modal-content cart-modal-content">
      <button class="modal-close" id="closeCartModal">&times;</button>
      <h2 class="cart-title">سلة التسوق</h2>
      <div class="cart-items" id="cartItems">
        <!-- سيتم ملؤها بالجافاسكريبت -->
      </div>
      <div class="cart-summary">
        <div class="cart-total">
          <span>المجموع:</span>
          <span class="total-amount" id="cartTotal">0 $</span>
        </div>
        <div class="cart-buttons">
          <button class="btn-modal btn-secondary" id="continueShoppingBtn">
            <i class="fas fa-arrow-right"></i>
            مواصلة التسوق
          </button>
          <button class="btn-modal btn-primary" id="checkoutBtn">
            <i class="fas fa-shopping-cart"></i>
            إتمام الشراء
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- مودال الطلب -->
  <div class="modal" id="orderModal">
    <div class="modal-content order-modal-content">
      <button class="modal-close" id="closeOrderModal">&times;</button>
      <h2 class="order-title">إتمام الطلب</h2>
      <p class="order-description">يرجى ملء البيانات التالية لإتمام عملية الشراء</p>
      
      <form class="order-form" id="orderForm">
        <div class="form-group">
          <label class="form-label" for="orderName">
            <i class="fas fa-user"></i>
            الاسم الكامل
          </label>
          <input type="text" class="form-input" id="orderName" name="name" placeholder="اكتب اسمك الكامل هنا" required>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="orderPhone">
            <i class="fas fa-phone"></i>
            رقم الهاتف
          </label>
          <input type="tel" class="form-input" id="orderPhone" name="phone" 
                 placeholder="مثال: 0912345678" 
                 pattern="^(092|091|094|093)[0-9]{7}$" 
                 title="يجب أن يبدأ الرقم بـ 092، 091، 094، أو 093 ويتكون من 10 أرقام" required>
          <small style="color: var(--text-tertiary); font-size: 0.85rem;">يرجى كتابة رقم هاتف صالح يبدأ بـ 091، 092، 093، 094</small>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="orderAddress">
            <i class="fas fa-map-marker-alt"></i>
            العنوان
          </label>
          <input type="text" class="form-input" id="orderAddress" name="address" placeholder="اكتب عنوانك بالتفصيل" required>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="orderNotes">
            <i class="fas fa-sticky-note"></i>
            ملاحظات إضافية
          </label>
          <textarea class="form-input" id="orderNotes" name="notes" placeholder="ملاحظات حول الطلب (اختياري)" rows="3"></textarea>
        </div>
        
        <button type="submit" class="btn-modal btn-primary">
          <i class="fas fa-check-circle"></i>
          تأكيد الطلب
        </button>
      </form>
    </div>
  </div>

  <!-- مكتبات JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  
  <script>
    // ===== تهيئة التطبيق =====
    document.addEventListener('DOMContentLoaded', function() {
      initApp();
    });

    // ===== جميع المنتجات الأصلية =====
    const allProducts = [

      {
        id: 41,
        name: "Razer Hanbo Chroma RGB AIO Liquid Cooler - 240mm",
        category: "قطع التجميعة",
        brand: "Razer",
        price: 80,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://assets3.razerzone.com/RwuxIJuL2PGl97_3Phux9-3xaZE=/1920x1280/https%3A%2F%2Fmedias-p1.phoenix.razer.com%2Fsys-master-phoenix-images-container%2Fh9e%2Fh1f%2F9311159746590%2F220119-hanbo-aio-240-1500x1000-1.jpg',
          "https://i0.wp.com/claremontcomputers.com/wp-content/uploads/2024/08/70eef546-c623-4854-8712-fbd65f0ef565.jpeg?fit=1440%2C1799&ssl=1.jpg",
        ],
        description: "مبرد مائي شامل بتصميم أنيق وإضاءة Chroma RGB، يوفر تبريدًا قويًا وهادئًا لمعالجات الألعاب العالية الأداء.",
        specs: {
          "السرعة": "N/A",
          "الطاقة": "N/A",
          "التوافق": "ATX, Micro-ATX, Mini-ITX",
          "الميزات": "إضاءة RGB + تبريد فعال"
        },
        tags: ["bestSelling", "new"],
        availability: "available"
      },
           
      {
        id: 40,
        name: "Lovingcool Factory Gaming PC Case - Black",
        category: "قطع التجميعة",
        brand: "Lovingcool",
        price: 45,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://s.alicdn.com/@sc04/kf/H7aeb06aafd2e4702b7faa1ed7c803f92E.jpg?avif=close&webp=close.jpg',
          "https://s.alicdn.com/@sc04/kf/Heca7ea744c6441d28b90f5ed94d31874l.jpg?avif=close&webp=close.jpg",
        ],
        description: "صندوق كمبيوتر Lovingcool Factory Gaming PC Case - Black يتميز بتصميم أنيق مع إضاءة RGB قابلة للتخصيص، ويوفر تبريدًا فعالًا مع مساحة واسعة لتركيب المكونات، مما يجعله خيارًا مثاليًا لبناء جهاز ألعاب قوي وجذاب.",
        specs: {
          "السرعة": "N/A",
          "الطاقة": "N/A",
          "التوافق": "ATX, Micro-ATX, Mini-ITX",
          "الميزات": "إضاءة RGB + تبريد فعال"
        },
        tags: ["bestSelling", "new"],
        availability: "comingSoon"
      },


       {
        id: 39,
        name: "AMD Ryzen™ 5 5600X Desktop Processors",
        category: "قطع التجميعة",
        brand: "AMD Ryzen",
        price: 140,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://www.amd.com/content/dam/amd/en/images/products/processors/ryzen/2505503-ryzen-5-5600x-og.jpg'
        ],
        description: "معالج AMD Ryzen™ 5 5600X يقدم أداءً ممتازًا للألعاب والتطبيقات المتعددة بفضل نواته الست وتقنياته المتقدمة، مما يجعله خيارًا مثاليًا لبناء جهاز كمبيوتر قوي وفعال.",
        specs: {
          "السرعة": "3.7 GHz (4.6 GHz Boost)",
          "الطاقة": "65W TDP",
          "التوافق": "AM4 Socket",
          "الميزات": "تقنية AMD SenseMI + Precision Boost 2"
        },
        tags: ["bestSelling", "new"],
        availability: "comingSoon"
      },


           {
        id: 38,
        name: "Smailwolf RS8",
        category: "إكسسوارات",
        brand: "Smailwolf",
        price: 28,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://img4.dhresource.com/webp/m/0x0/f3/albu/ys/z/21/8de14eae-b070-4ad5-ab73-8e411f1d242a.jpg',
          'https://content2.rozetka.com.ua/goods/images/big/518748660.jpg',
          "https://ae01.alicdn.com/kf/S21cb7255718f4a3285a73496b4c7cad47.jpg"
        ],
        description: "ماوس Smailwolf RS8 مصمم للألعاب الاحترافية بوزن خفيف وأداء سريع يمنحك تحكمًا دقيقًا واستجابة عالية.يدعم عدة أوضاع اتصال مع إضاءة RGB وتصميم مريح للاستخدام الطويل.",
        specs: {
          "السرعة": "12000 DPI",
          "الوزن": "خفيف الوزن بتصميم مريح",
          "التوافق": "متعدد الأوضاع (سلكي، بلوتوث، 2.4 جيجاهرتز)",
          "الميزات": "إضاءة RGB + أزرار قابلة للبرمجة"
        },
        tags: ["bestSelling", "new"],
        availability: "comingSoon"
      },

           {
        id: 37,
        name: "Palit RTX 3070 GameRock OC 8GB GDDR6",
        category: "قطع التجميعة",
        brand: "Palit",
        price: 295,
        oldPrice: null,
        condition: "مستعمل",
        images: [
          'https://microless.com/cdn/product_description/8578797_1610809604.jpg',
          'https://microless.com/cdn/products/19c57f5aa18dda3e04c2c29802632bcb-hi.jpg'
        ],
        description: "بطاقة رسومات Palit RTX 3070 GameRock OC 8GB GDDR6 تقدم أداءً ممتازًا للألعاب بدقة 1440p مع تبريد فعال وتصميم متين، مما يجعلها خيارًا مثاليًا للاعبين الذين يبحثون عن تجربة ألعاب سلسة وعالية الجودة.",
        specs: {
          "الذاكرة": "8GB GDDR6",
          "التبريد": "3 مرواح بتبريد عالي ",
          "التوافق": "PCIe 4.0",
          "الميزات": "دعم FreeSync + RGB"
        },
        tags: ["bestSelling", "new"],
        availability: "comingSoon"
      },

     {
        id: 36,
        name: "ASUS TUF RX 5700 XT GAMING OC 8GB GDDR6",
        category: "قطع التجميعة",
        brand: "ASUS",
        price: 145,
        oldPrice: 170,
        condition: "مستعمل",
        images: [
          'https://dlcdnimgs.asus.com/websites/global/products/utcn39mqdlxmh2r1/img/kv/product-kv_s.jpg',
          'https://i.ebayimg.com/images/g/X7MAAOSwZHRkjetV/s-l1200.jpg'
        ],
        description: "بطاقة رسومات ASUS TUF RX 5700 XT GAMING OC 8GB GDDR6 تقدم أداءً ممتازًا للألعاب بدقة 1440p مع تبريد فعال وتصميم متين، مما يجعلها خيارًا مثاليًا للاعبين الذين يبحثون عن تجربة ألعاب سلسة وعالية الجودة.",
        specs: {
          "الذاكرة": "8GB GDDR6",
          "التبريد": "3 مرواح بتبريد عالي ",
          "التوافق": "PCIe 4.0",
          "الميزات": "دعم FreeSync + RGB"
        },
        tags: ["bestSelling", "new"],
        availability: "unavailable"
      },

      {
        id: 35,
        name: "Gigabyte B650M GAMING PLUS WIFI",
        category: "قطع التجميعة",
        brand: "Gigabyte",
        price: 148,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://prod.scorptec.com.au/19/1178/111162/328049_large.jpg',
      ],
        description: "لوحة Gigabyte B650M GAMING PLUS WIFI تقدّم أداءً قويًا لمعالجات AMD Ryzen مع دعم Wi-Fi مدمج وتصميم مخصص للألعاب بحجم mATX.",
        specs: {
          "الذاكرة": "4 x DDR5 DIMM",
          "اللوحة الأم": "Gigabyte B650M Gaming Plus WiFi",
          "التوافق": "AMD Ryzen 7000",
          "الميزات": "Wi-Fi مدمج + دعم رامات حتى 128GB"
        },
        tags: ["bestSelling", "new"],
        availability: "available"
      },
      {
        id: 34,
        name: "Lovingcool DP-360mm",
        category: "قطع التجميعة",
        brand: "Lovingcool",
        price: 105,
        oldPrice: 150,
        condition: "جديد",
        images: [
          'https://sc04.alicdn.com/kf/H545f8caf6ca741e9a9cda4002a7759e45.jpg',
          'https://s.alicdn.com/@sc04/kf/Hb08a54fc6e5144c98029e12424729404b.jpg?avif=close&webp=close.jpg',
          'https://ae01.alicdn.com/kf/Sa30a6da079094da98af017334f886d43Y.jpg'
        ],
        description: "مبرد Lovingcool 360mm ARGB بتبريد مائي قوي للمعالج مع شاشة عرض فيديو 4.0 بوصة قابلة للتخصيص، يوفر أداء تبريد عالي حتى 300W مع تشغيل هادئ وتصميم أنيق بإضاءة ARGB.",
        specs: {
          "الحجم": "360mm",
          "الميزات": "شاشة فيديو 4.0 بوصة + إضاءة ARGB",
          "الأداء": "تبريد حتى 300W",
          "التوافق": "جميع المعالجات الحديثة"
        },
        tags: ["new"],
        availability: "available"
      },
      {
        id: 33,
        name: "Mouse Pad Ghost Operator",
        category: "إكسسوارات",
        brand: "Mouse Pad",
        price: 6.5,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://ae01.alicdn.com/kf/S75a159b4e30d4de7acea94cfdabed03e1.jpg',
        ],
        description: "ماوس باد بتصميم قتالي عصري باللونين الأسود والأبيض، يُظهر جندي قوات خاصة بأسلوب ديناميكي وسط تأثيرات بصرية قوية تعكس أجواء الحرب الحديثة.",
        specs: {
          "الحجم": "900x400mm",
          "المادة": "سطح ناعم عالي الجودة",
          "الميزات": "مقاوم للانزلاق + دقة طباعة عالية",
          "التصميم": "تصميم قتالي عصري"
        },
        tags: ["new"],
        availability: "comingSoon"
      },
      {
        id: 32,
        name: "Mouse Pad Urban Combat Force",
        category: "إكسسوارات",
        brand: "Mouse Pad",
        price: 6.5,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://ae01.alicdn.com/kf/S37767908ad6546459bbcf901f01e389e9.jpg',
        ],
        description: "ماوس باد بتصميم قتالي عصري باللونين الأسود والأبيض، يُظهر جندي قوات خاصة بأسلوب ديناميكي وسط تأثيرات بصرية قوية.",
        specs: {
          "الحجم": "900x400mm",
          "المادة": "سطح ناعم عالي الجودة",
          "الميزات": "مقاوم للانزلاق + دقة طباعة عالية",
          "التصميم": "تصميم قتالي عصري"
        },
        tags: ["new"],
        availability: "available"
      },
      {
        id: 31,
        name: "Mouse Pad Miyamoto Musashi from Vagabond",
        category: "إكسسوارات",
        brand: "Mouse Pad",
        price: 6.5,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://ae01.alicdn.com/kf/Sf54f2b9dc59f4774ad62167adb90a37cb.jpg',
        ],
        description: "ماوس باد بتصميم أنيق باللون البنفسجي، يُظهر محارب ساموراي في لقطة حركية قوية وهو يقفز ممسكًا بسيفه.",
        specs: {
          "الحجم": "900x400mm",
          "المادة": "سطح ناعم عالي الجودة",
          "الميزات": "مقاوم للانزلاق + دقة طباعة عالية",
          "التصميم": "تصميم ساموراي فني"
        },
        tags: ["bestSelling"],
        availability: "available"
      },
      {
        id: 30,
        name: "Mouse Pad KATANA BLACK",
        category: "إكسسوارات",
        brand: "Mouse Pad",
        price: 6.5,
        oldPrice: null,
        condition: "جديد",
        images: [
          'https://ae01.alicdn.com/kf/Se52fcff2070e4f098f7d1e8b00df2258i.jpg',
        ],
        description: "ماوس باد بتصميم فني جريء باللونين الأسود والأبيض، يتميز برسمة يدوية أنيقة ليدين تمسكان بسيفين بأسلوب كلاسيكي.",
        specs: {
          "الحجم": "900x400mm",
          "المادة": "سطح ناعم عالي الجودة",
          "الميزات": "مقاوم للانزلاق + دقة طباعة عالية",
          "التصميم": "تصميم كاتانا كلاسيكي"
        },
        tags: ["bestSelling"],
        availability: "available"
      },
      {
        id: 29,
        name: "PlayStation 5 FAT Standard Edition (Disc Version)",
        category: "بلايستيشن",
        brand: "PlayStation",
        price: 400,
        oldPrice: 450,
        condition: "مستعمل",
        images: [
          'https://assets2.cbsnewsstatic.com/hub/i/r/2020/06/11/ea2b6ee5-6955-42a5-bb76-bb775df093f1/thumbnail/1200x630/11b096d4ab612a908a4e054454eae910/playstation5-a.png'
        ],
        description: "جهاز PlayStation 5 FAT Standard Edition (Disc Version) يوفر تجربة لعب استثنائية بدقة 4K و120 إطارًا في الثانية.",
        specs: {
          "المعالج": "AMD Zen 2",
          "التخزين": "825GB SSD",
          "الدقة": "4K 120fps",
          "الميزات": "Ray Tracing + 3D Audio"
        },
        tags: ["bestSelling"],
        availability: "unavailable"
      },
      {
        id: 28,
        name: "AJAZZ NACODEX NK68",
        category: "إكسسوارات",
        brand: "AJAZZ",
        price: 40,
        oldPrice: 50,
        condition: "جديد",
        images: [
          'https://imgur.com/kNnMbAr.jpg',
          'https://i.ytimg.com/vi/_-avpk2tS-w/oardefault.jpg?sqp=-oaymwEYCJUDENAFSFqQAgHyq4qpAwcIARUAAIhC&rs=AOn4CLD0wybMTtJ9_2Dgz4ucFTYqJC2T-g.jpg',
          "https://sc04.alicdn.com/kf/H4bc3ea13a9984b6db7a2a23635d14a65T/244701615/H4bc3ea13a9984b6db7a2a23635d14a65T.jpg",
          "https://img.olx.com.br/images/88/888643365575329.jpg",
          "https://ecommerce.datablitz.com.ph/cdn/shop/files/AJAZZ_NK68_RGB_Black_Contours_15_800x.jpg?v=1754877377"
        ],
        description: "كيبورد AJAZZ NACODEX NK68 يتميز بتصميم ميكانيكي أنيق بحجم 68% يجمع بين العملية والمظهر العصري.",
        specs: {
          "الحجم": "68%",
          "السويتشات": "Red Switches",
          "الإضاءة": "RGB متعددة التأثيرات",
          "الجودة": "بناء عالي الجودة"
        },
        tags: ["bestSelling", "new"],
        availability: "available"
      },
      {
        id: 27,
        name: "PlayStation 5 Slim",
        category: "بلايستيشن",
        brand: "PlayStation",
        price: 400,
        oldPrice: 450,
        condition: "مستعمل",
        images: [
          'https://static.independent.co.uk/2025/09/30/11/06/ps5-slim-deal.png'
        ],
        description: "جهاز PlayStation 5 Slim يأتي بتصميم أنحف وأخف من الإصدار السابق مع الحفاظ على نفس القوة والأداء العالي.",
        specs: {
          "التصميم": "أنحف وأخف",
          "الأداء": "4K 120fps",
          "التخزين": "SSD فائق السرعة",
          "التحكم": "DualSense Controller"
        },
        tags: ["new"],
        availability: "available"
      },
      {
        id: 26,
        name: "Projector HY 300 Pro",
        category: "إكسسوارات",
        brand: "Projector",
        price: 38,
        oldPrice: 40,
        condition: "جديد",
        images: [
          'https://static-01.daraz.lk/p/0efbfad3101d41aa08ad4e98cfeac2e1.jpg',
          'https://nicdecor.com/wp-content/uploads/2025/05/HY-300-pro.jpg'
        ],
        description: "بروجكتر ذكي مزوّد بنظام Android 11 يقدم تجربة مشاهدة سلسة بدقة فيزيائية 720P مع دعم تشغيل محتوى يصل إلى 4K.",
        specs: {
          "الدقة": "720P مع دعم 4K",
          "النظام": "Android 11",
          "الاتصال": "WiFi6 + Bluetooth 5.0",
          "المدخلات": "HDMI + USB + 3.5mm"
        },
        tags: ["discounted"],
        availability: "available"
      },
      {
        id: 25,
        name: "Projector HY 300 Mini",
        category: "إكسسوارات",
        brand: "Projector",
        price: 37,
        oldPrice: 40,
        condition: "جديد",
        images: [
          'https://chinaplanet.sk/wp-content/uploads/2025/09/Magcubic-Hy300-new-cover.jpg',
          'https://5.imimg.com/data5/SELLER/Default/2024/9/451115115/JW/KG/CY/46517936/hy-300-pro-mini-projector-for-home-portable-hd-android-12-short-4k-1080p-500x500.jpg'
        ],
        description: "بروجكتر ذكي مزوّد بنظام Android 12 يقدم تجربة مشاهدة سلسة بدقة فيزيائية 720P مع دعم تشغيل محتوى يصل إلى 4K.",
        specs: {
          "الدقة": "720P مع دعم 4K",
          "النظام": "Android 12",
          "الاتصال": "WiFi6 + Bluetooth 5.0",
          "المدخلات": "HDMI + USB + 3.5mm"
        },
        tags: ["bestSelling", "discounted"],
        availability: "available"
      },
      {
        id: 24,
        name: "LDON Mide 68 8000Hz Magnetic Switch",
        category: "إكسسوارات",
        brand: "LDON",
        price: 40,
        oldPrice: 50,
        condition: "جديد",
        images: [
          'https://sc04.alicdn.com/kf/Hf663101fc1b44d1d800ba3d8b84e3c2es/279883721/Hf663101fc1b44d1d800ba3d8b84e3c2es.jpg',
          'https://sc04.alicdn.com/kf/H156878d29dc2460fbcf6a068367bb69fW/279883721/H156878d29dc2460fbcf6a068367bb69fW.jpg'
        ],
        description: "كيبورد مغناطيسي مميز للألعاب مع إضاءة RGB قابلة للتخصيص وأداء عالي.",
        specs: {
          "النوع": "مغناطيسي",
          "الحجم": "68%",
          "السويتشات": "Sky Blue PRO",
          "الاستجابة": "0.125ms"
        },
        tags: ["bestSelling", "discounted"],
        availability: "available"
      },
      {
        id: 23,
        name: "LOGITECH G413 SE MECHANICAL",
        category: "إكسسوارات",
        brand: "LOGITECH",
        price: 45,
        oldPrice: 55,
        condition: "جديد",
        images: [
          'https://ecommerce.datablitz.com.ph/cdn/shop/products/710m45UA-RL._AC_SL1500_800x.jpg?v=1679964052.jpg',
          'https://cdn.arstechnica.net/wp-content/uploads/2022/02/switches.jpg'
        ],
        description: "لوحة مفاتيح ميكانيكية Logitech G413 SE، تصميم أنيق وأداء سريع ودقيق للألعاب.",
        specs: {
          "السويتشات": "Brown Mechanical",
          "البناء": "هيكل ألومنيوم",
          "الإضاءة": "White LED",
          "التوافق": "جميع الأنظمة"
        },
        tags: ["discounted", "discounted"],
        availability: "unavailable"
      },
      {
        id: 22,
        name: "FZ - 200 NZXT",
        category: "قطع التجميعة",
        brand: "NZXT",
        price: 4,
        oldPrice: 7,
        condition: "جديد",
        images: [
          'https://www.bhphotovideo.com/images/fb/nzxt_rf_fz20s_u1_fz_200mm_high_airflow_fan_1165554.jpg',
          'https://m.media-amazon.com/images/I/41KAQ7brUwL.jpg'
        ],
        description: "مروحة NZXT FZ-200 بحجم 200 مم توفر تدفق هواء عالي وهدوء أثناء التشغيل.",
        specs: {
          "الحجم": "200mm",
          "الإضاءة": "Blue LED",
          "التوصيل": "3-Pin",
          "السرعة": "900 RPM"
        },
        tags: ["discounted"],
        availability: "available"
      },
      {
        id: 21,
        name: "Gigabyte M27Q EK",
        category: "شاشات",
        brand: "Gigabyte",
        price: 180,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://s3.chip7.pt/20VM0-M27QBA-2EKR_site.jpg',
          'https://i.rtings.com/assets/products/mwTbpPbi/gigabyte-m27q-rev-2-0/design-small.jpg?format=auto'
        ],
        description: "شاشة Gigabyte M27Q EK توفر أداءً ممتازًا في الألعاب مع حركة سلسة وألوان نابضة بالحياة.",
        specs: {
          "الحجم": "27 بوصة",
          "الدقة": "QHD 2560x1440",
          "معدل التحديث": "170 هرتز",
          "زمن الاستجابة": "0.5ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 20,
        name: "MSI G255F",
        category: "شاشات",
        brand: "MSI",
        price: 107.5,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://m.media-amazon.com/images/S/aplus-media-library-service-media/52d75211-dd11-4272-b60f-9b93ae9d3dd4.__CR590,0,2939,2204_PT0_SX600_V1___.png',
          'https://mybroadband.co.za/news/wp-content/uploads/2024/10/Monitor1_6-4.jpg'
        ],
        description: "شاشة ألعاب سريعة ومضغوطة تقدم أداءً سلسًا مع استجابة فورية. مثالية للمساحات الصغيرة.",
        specs: {
          "الحجم": "25 بوصة",
          "الدقة": "FHD 1920x1080",
          "معدل التحديث": "180 هرتز",
          "زمن الاستجابة": "1ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 19,
        name: "MSI MAG 32C6X",
        category: "شاشات",
        brand: "MSI",
        price: 160,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://m.media-amazon.com/images/S/aplus-media-library-service-media/3688790a-2d35-4ddb-9ae3-1f025cd260e6.__CR0,0,600,450_PT0_SX600_V1___.jpg',
          'https://www.gdm.or.jp/wp-content/uploads/2024/08/19/msi_mag_32c6x_62-620x466.jpg'
        ],
        description: "شاشة منحنية كبيرة لتجربة غامرة، معدل تحديث عالي وألوان غنية للألعاب التنافسية.",
        specs: {
          "الحجم": "32 بوصة",
          "الدقة": "FHD 1920x1080",
          "معدل التحديث": "250 هرتز",
          "زمن الاستجابة": "1ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 18,
        name: "LG 27″ UltraGear 27GS75Q-B",
        category: "شاشات",
        brand: "LG",
        price: 220,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://img.lazcdn.com/g/p/0abdf2cc9f0c74ffa3d7fe5bdb4a01cf.jpg_720x720q80.jpg',
          'https://i.ytimg.com/vi/TkWilXnaUd8/maxresdefault.jpg'
        ],
        description: "شاشة ألعاب تنافسية بألوان نابضة بالحياة وأداء سلس. تصميم بلا إطار من ثلاث جهات يضفي مظهرًا احترافيًا.",
        specs: {
          "الحجم": "27 بوصة",
          "الدقة": "QHD 2560x1440",
          "معدل التحديث": "180-200 هرتز",
          "زمن الاستجابة": "1ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 17,
        name: "ASUS ROG Strix XG27UCS",
        category: "شاشات",
        brand: "ASUS",
        price: 245,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://rog.asus.com/media/1719980534198.jpg',
          'https://www.techspot.com/images/products/2024/monitors/org/2025-05-13-product-5.jpg'
        ],
        description: "شاشة متميزة بدقة 4K وأداء فائق السرعة، تقدم ألوانًا نابضة بالحياة وتباينًا عاليًا.",
        specs: {
          "الحجم": "27 بوصة",
          "الدقة": "4K 3840x2160",
          "معدل التحديث": "160 هرتز",
          "زمن الاستجابة": "1ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 16,
        name: "Lenovo Legion R271",
        category: "شاشات",
        brand: "Lenovo",
        price: 102.5,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://m.media-amazon.com/images/I/71yPdMKhFTL._AC_UF1000,1000_QL80_.jpg',
          'https://p2-ofp.static.pub/ShareResource/ww/visuals/Legion-R27i-30/lenovo-legion-r27i-30-feature04-1.png'
        ],
        description: "شاشة Lenovo Legion R271 مثالية للاستخدام اليومي والألعاب الخفيفة.",
        specs: {
          "الحجم": "27 بوصة",
          "الدقة": "FHD 1920x1080",
          "معدل التحديث": "144 هرتز",
          "زمن الاستجابة": "4ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 15,
        name: "ASUS ROG Strix XG27ACS",
        category: "شاشات",
        brand: "ASUS",
        price: 225,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://pcx.com.ph/cdn/shop/files/ASUS_XG27ACS.jpg?v=1733306817&width=1090',
          'https://cdn.mos.cms.futurecdn.net/bU4uGHVYCXERRCzVkB5X5e.jpg'
        ],
        description: "شاشة ألعاب احترافية تقدم ألوانًا دقيقة وحركة فائقة السلاسة، مع دعم HDR وتقنيات المزامنة المتقدمة.",
        specs: {
          "الحجم": "27 بوصة",
          "الدقة": "WQHD 2560x1440",
          "معدل التحديث": "180 هرتز",
          "زمن الاستجابة": "1ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 14,
        name: "ACER Nitro VGO 27",
        category: "شاشات",
        brand: "Acer",
        price: 99.9,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://m.media-amazon.com/images/S/aplus-media-library-service-media/3e89ed3b-87b4-4826-910a-603daaf5d4da.__CR0,0,1464,600_PT0_SX1464_V1___.jpg',
          'https://i.rtings.com/assets/products/GBZurEGf/acer-nitro-vg271up-pbmiipx/design-medium.jpg?format=auto'
        ],
        description: "شاشة Acer Nitro 27 تجمع بين الأداء الجيد والسعر المعقول. تصميمها العصبي والأنيق يعزز تجربة الألعاب والاستخدام اليومي.",
        specs: {
          "الحجم": "27 بوصة",
          "الدقة": "4K 3840x2160",
          "معدل التحديث": "60 هرتز",
          "زمن الاستجابة": "1ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 13,
        name: "HP OMEN 24",
        category: "شاشات",
        brand: "HP",
        price: 95,
        oldPrice: null,
        condition: "علبة مفتوحة",
        images: [
          'https://memoryzone.aecomapp.com/storage/files/1718186722man-hinh-hp-omen-24-gaming-24-inch-ips-fhd-165hz-780f0aa-06.jpg.webp',
          'https://i.ytimg.com/vi/syjqja0Cnhk/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLB6ZTUW5s4D_H0PEXgmSqO5g9fGmw'
        ],
        description: "شاشة HP OMEN 24 تقدم أداءً ممتازًا في الألعاب مع ألوان دقيقة وزوايا مشاهدة واسعة.",
        specs: {
          "الحجم": "24 بوصة",
          "الدقة": "FHD 1920x1080",
          "معدل التحديث": "165 هرتز",
          "زمن الاستجابة": "1ms"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 8,
        name: "ASUS TUF B850M-E WIFI",
        category: "قطع التجميعة",
        brand: "ASUS",
        price: 170,
        oldPrice: 190,
        condition: "جديد",
        images: [
          'https://gamingpc.com.ua/image/cache/425x372-crop/9cef3a2a8cccf9957bca7b8bf1f7e930.webp',
          'https://m.media-amazon.com/images/I/51qsiPseF1L.jpg'
        ],
        description: "لوحة أم ASUS TUF B850M-E WIFI من العيار الثقيل تدعم أقوى المعالجات وتوفر استقراراً عالياً.",
        specs: {
          "المقبس": "AM5",
          "الذاكرة": "DDR5",
          "التوسعة": "PCIe 4.0",
          "الاتصال": "Wi-Fi 6"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 7,
        name: "ASUS TUF B850M-E WIFI",
        category: "قطع التجميعة",
        brand: "ASUS",
        price: 155,
        oldPrice: 220,
        condition: "جديد",
        images: [
          'https://gamingpc.com.ua/image/cache/425x372-crop/9cef3a2a8cccf9957bca7b8bf1f7e930.webp',
          'https://m.media-amazon.com/images/I/51qsiPseF1L.jpg'
        ],
        description: "لوحة أم ASUS TUF B850M-E WIFI من العيار الثقيل تدعم أقوى المعالجات وتوفر استقراراً عالياً.",
        specs: {
          "المقبس": "AM5",
          "الذاكرة": "DDR5",
          "التوسعة": "PCIe 4.0",
          "الاتصال": "Wi-Fi 6"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 6,
        name: "ASUS ROG Strix 1000W 80+ Platinum",
        category: "قطع التجميعة",
        brand: "ASUS",
        price: 160,
        oldPrice: 190,
        condition: "جديد",
        images: [
          'https://rog.asus.com/media/1723518683990.jpg',
          'https://dlcdnwebimgs.asus.com/files/media/0003A3D7-4037-4F8D-BC15-38902D1057ED/v1/img/engineering/80_plusgold_2.jpg'
        ],
        description: "مزود طاقة ASUS ROG Strix 1000W بكفاءة بلاتينية 80+ وتصميم موديولار مع ضمان 10 سنوات.",
        specs: {
          "القدرة": "1000W",
          "الكفاءة": "80+ Platinum",
          "التصميم": "موديولار كامل",
          "الضمان": "10 سنوات"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 5,
        name: "ASUS ROG Strix Z790-E",
        category: "قطع التجميعة",
        brand: "ASUS",
        price: 200,
        oldPrice: 230,
        condition: "جديد",
        images: [
          'https://hyperpc.ae/images/catalog/hardware/motherboards/1700/asus/rog-strix-z790-e-gaming/asus-rog-strix-z790-e-gaming-ii.jpg',
          'https://i.ytimg.com/vi/dap0JBsGRHQ/maxresdefault.jpg'
        ],
        description: "لوحة أم ASUS ROG Strix Z790-E متميزة تدعم أحدث معالجات Intel مع ميزات متقدمة للألعاب.",
        specs: {
          "المقبس": "LGA 1700",
          "الذاكرة": "DDR5",
          "التوسعة": "PCIe 5.0",
          "الاتصال": "Wi-Fi 6E"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 4,
        name: "Crucial T705 2TB NVMe Gen5 SSD",
        category: "قطع التجميعة",
        brand: "Crucial",
        price: 120,
        oldPrice: 1500,
        condition: "جديد",
        images: [
          'https://cdn.mos.cms.futurecdn.net/iZEGMzkmaX8o87Apg5HsZV.jpg',
          'https://www.crucial.com/content/dam/crucial/ssd-products/t705/web/cricual-T705-Web-06-Tile-650x350.psd.transform/small-jpg/img.jpg'
        ],
        description: "أسرع وحدة تخزين NVMe من الجيل الخامس من Crucial بسرعة قراءة تصل إلى 14,500 MB/s.",
        specs: {
          "السعة": "2TB",
          "الجيل": "PCIe 5.0",
          "سرعة القراءة": "14,500 MB/s",
          "سرعة الكتابة": "12,700 MB/s"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 3,
        name: "Corsair Vengeance 32GB DDR5 6000MHz",
        category: "قطع التجميعة",
        brand: "Corsair",
        price: 160,
        oldPrice: 280,
        condition: "علبة مفتوحة",
        images: [
          'https://gamers.ge/wp-content/uploads/2023/08/Corsair-VENGEANCE-RGB-DDR5-16x2-6000MHz-white.jpg',
          'https://static.tweaktown.com/content/1/0/10340_888_corsair-vengeance-rgb-ddr5-6000-32gb-dual-channel-memory-kit-review_full.jpg'
        ],
        description: "ذاكرة Corsair Vengeance 32GB DDR5 بسرعة 6000MHz عالية الأداء للاعبين والمحترفين.",
        specs: {
          "السعة": "32GB (2x16GB)",
          "النوع": "DDR5",
          "السرعة": "6000MHz",
          "التأخير": "CL36"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 2,
        name: "Ryzen 9 7950X",
        category: "قطع التجميعة",
        brand: "AMD",
        price: 400,
        oldPrice: 460,
        condition: "جديد",
        images: [
          'https://www.amd.com/content/dam/amd/en/images/products/processors/ryzen/2505503-ryzen-9-7900x-og.jpg',
          'https://www.wepc.com/wp-content/uploads/2022/09/WePC_7950x-09268-scaled.jpg'
        ],
        description: "أقوى معالج للمستهلكين من AMD بمواصفات 16 نواة و32 مسار لأداء استثنائي.",
        specs: {
          "النوى": "16 نواة",
          "المسارات": "32 مسار",
          "التردد": "4.5 GHz",
          "الاستهلاك": "170W TDP"
        },
        tags: ["discounted"],
        availability: "unavailable"
      },
      {
        id: 1,
        name: "RTX 3070 Ti",
        category: "قطع التجميعة",
        brand: "NVIDIA",
        price: 300,
        oldPrice: 350,
        condition: "جديد",
        images: [
          'https://www.notebookcheck.net/fileadmin/Notebooks/News/_nc3/ZOTAC_Gaming_GeForce_RTX_3080_Ti_cards_unveiled_early_June_2021.jpg',
          'https://www.gpuheaven.com/wp-content/uploads/2025/10/Zotac-Gaming-Geforce-Rtx-3070-Ti-Amp-Holo-2.jpg'
        ],
        description: "كرت شاشة NVIDIA RTX 3070 Ti من الفئة المتوسطة يقدم أفضل أداء في الألعاب الحديثة.",
        specs: {
          "الذاكرة": "8GB GDDR6X",
          "النوى": "5888 نواة",
          "التردد": "1770 MHz",
          "التوصيل": "PCIe 4.0"
        },
        tags: ["discounted"],
        availability: "unavailable"
      }
    ];

    // ===== ترتيب المنتجات حسب الأولوية =====
    // 1. المنتجات المضافة حديثاً أولاً (ID الأعلى أولاً)
    // 2. المنتجات المتوفرة أولاً
    // 3. المنتجات التي ستتوفر قريباً ثانياً
    // 4. المنتجات غير المتوفرة أخيراً
    const sortedProducts = [...allProducts].sort((a, b) => {
      // أولاً: ترتيب تنازلي حسب ID (الأحدث أولاً)
      if (a.id !== b.id) {
        return b.id - a.id;
      }
      
      // ثانياً: ترتيب حسب التوفر
      const availabilityOrder = {
        "available": 1,
        "comingSoon": 2,
        "unavailable": 3
      };
      
      return availabilityOrder[a.availability] - availabilityOrder[b.availability];
    });

    // ===== صور الشريط السفلي =====
    const bottomBarImages = [
      "https://m.media-amazon.com/images/I/71JsBdZyphL._AC_UF1000,1000_QL80_.jpg",
      "https://www.ixbt.com/img/x780x600/r30/00/02/39/05/light2.jpg",
      "https://static0.gamerantimages.com/wordpress/wp-content/uploads/2024/06/the-melgeek-made68-next-to-usb-c-cable-box-and-spare-keycaps.jpg",
      "https://m.media-amazon.com/images/I/714OqczlCgL.jpg?aicid=community-reviews.desktop.in-app-desktop-community-reviews.image.1cf63f2b-6d3e-4f5e-8f6e-3f3f6e1e1e1e._QL100_.jpg",
      "https://i0.wp.com/claremontcomputers.com/wp-content/uploads/2024/08/70eef546-c623-4854-8712-fbd65f0ef565.jpeg?fit=1440%2C1799&ssl=1.jpg",
      "https://images.everyeye.it/img-articoli/rog-strix-xg27ucs-recensione-gaming-4k-160-hz-giusto-prezzo-v7-63846.jpg",
      "https://i0.wp.com/claremontcomputers.com/wp-content/uploads/2024/08/70eef546-c623-4854-8712-fbd65f0ef565.jpeg?fit=1440%2C1799&ssl=1.jpg",
      "https://www.gdm.or.jp/wp-content/uploads/2024/08/19/msi_mag_32c6x_62-620x466.jpg",
      "https://i.ytimg.com/vi/TkWilXnaUd8/maxresdefault.jpg",
      "https://www.techspot.com/images/products/2024/monitors/org/2025-05-13-product-5.jpg",
      "https://p2-ofp.static.pub/ShareResource/ww/visuals/Legion-R27i-30/lenovo-legion-r27i-30-feature04-1.png",
      "https://cdn.mos.cms.futurecdn.net/bU4uGHVYCXERRCzVkB5X5e.jpg",
      "https://i.rtings.com/assets/products/GBZurEGf/acer-nitro-vg271up-pbmiipx/design-medium.jpg?format=auto",
      "https://i.ytimg.com/vi/syjqja0Cnhk/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLB6ZTUW5s4D_H0PEXgmSqO5g9fGmw",
      "https://www.jumbo-computer.com/cdn/shop/files/TUF_GAMING_B850M-PLUS_WIFI_600x600_03_600x.jpg?v=1736864462",
      "https://cdn.mwave.com.au/images/400/asus_rog_strix_1000w_80_platinum_fully_modular_power_supply_white_ac82582_9537.jpg",
      "https://i.ytimg.com/vi/dap0JBsGRHQ/maxresdefault.jpg",
      "https://static.tweaktown.com/content/1/0/10340_888_corsair-vengeance-rgb-ddr5-6000-32gb-dual-channel-memory-kit-review_full.jpg",
      "https://www.wepc.com/wp-content/uploads/2022/09/WePC_7950x-09268-scaled.jpg"
    ];

    // ===== متغيرات التطبيق =====
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let currentProductModalImage = {};
    let swiperInstance = null;
    
    // ===== نظام تحديد عدد الطلبات =====
    let orderLimitData = JSON.parse(localStorage.getItem('orderLimitData')) || {
      dailyOrders: 0,
      lastOrderDate: null,
      userIP: null
    };
    
    // ===== المنتجات المخصصة للأقسام =====
    const customBestSellingProducts = [
      "AJAZZ NACODEX NK68",
      "Gigabyte B650M GAMING PLUS WIFI",
      "Projector HY 300 Mini",
      "LDON Mide 68 8000Hz Magnetic Switch"
    ];
    
    const customDiscountedProducts = [
      "Lovingcool DP-360mm",
      "PlayStation 5 Slim",
      "Razer Hanbo Chroma RGB AIO Liquid Cooler - 240mm",
      "ASUS TUF RX 5700 XT GAMING OC 8GB GDDR6"
     ];
    
    const customComingSoonProducts = [
      "Lovingcool Factory Gaming PC Case - Black",
      "AMD Ryzen™ 5 5600X Desktop Processors",
      "Palit RTX 3070 GameRock OC 8GB GDDR6",
      "Smailwolf RS8"

      ];

    // ===== تهيئة التطبيق =====
    function initApp() {
      // تهيئة Swiper
      initSwiper();
      
      // تهيئة الثيم
      initTheme();
      
      // تحميل المنتجات
      loadProducts();
      
      // تحميل الشريط السفلي
      loadBottomBar();
      
      // تحديث عداد السلة
      updateCartCount();
      
      // إضافة مستمعي الأحداث
      setupEventListeners();
      
      // تهيئة EmailJS
      emailjs.init("oC5f4LnSO9Gazmn5A");
      
      // تحديث بيانات نظام تحديد الطلبات
      updateOrderLimitData();
    }

    // ===== نظام تحديد عدد الطلبات =====
    function updateOrderLimitData() {
      const today = new Date().toDateString();
      
      // إذا كان التاريخ مختلفًا، نعيد تعيين العد اليومي
      if (orderLimitData.lastOrderDate !== today) {
        orderLimitData.dailyOrders = 0;
        orderLimitData.lastOrderDate = today;
        saveOrderLimitData();
      }
    }
    
    function canPlaceOrder() {
      updateOrderLimitData();
      return orderLimitData.dailyOrders < 5; // الحد الأقصى 5 طلبات في اليوم
    }
    
    function incrementOrderCount() {
      updateOrderLimitData();
      if (orderLimitData.dailyOrders < 5) {
        orderLimitData.dailyOrders++;
        saveOrderLimitData();
        return true;
      }
      return false;
    }
    
    function saveOrderLimitData() {
      localStorage.setItem('orderLimitData', JSON.stringify(orderLimitData));
    }
    
    function getRemainingOrders() {
      updateOrderLimitData();
      return 5 - orderLimitData.dailyOrders;
    }

    // ===== تهيئة Swiper =====
    function initSwiper() {
      swiperInstance = new Swiper('.swiper', {
        direction: 'horizontal',
        loop: true,
        speed: 800,
        autoplay: {
          delay: 5000,
          disableOnInteraction: false,
        },
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
          dynamicBullets: true,
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        effect: 'fade',
        fadeEffect: {
          crossFade: true
        },
        grabCursor: true,
        preloadImages: false,
        lazy: {
          loadPrevNext: true,
        },
      });
    }

    // ===== تهيئة الثيم =====
    function initTheme() {
      const themeToggle = document.getElementById('themeToggle');
      const savedTheme = localStorage.getItem('theme') || 'light';
      
      if (savedTheme === 'dark') {
        document.body.setAttribute('data-theme', 'dark');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      } else {
        document.body.removeAttribute('data-theme');
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      }
      
      themeToggle.addEventListener('click', toggleTheme);
    }

    function toggleTheme() {
      const themeToggle = document.getElementById('themeToggle');
      
      if (document.body.getAttribute('data-theme') === 'dark') {
        document.body.removeAttribute('data-theme');
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
        localStorage.setItem('theme', 'light');
      } else {
        document.body.setAttribute('data-theme', 'dark');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        localStorage.setItem('theme', 'dark');
      }
    }

    // ===== تحميل المنتجات =====
    function loadProducts() {
      // المنتجات الأكثر مبيعاً
      renderCustomProductsGrid('bestSellingProducts', customBestSellingProducts);
      
      // المنتجات المخفضة
      renderCustomProductsGrid('discountedProducts', customDiscountedProducts);
      
      // المنتجات قريباً في المتجر
      renderCustomProductsGrid('comingSoonProducts', customComingSoonProducts);
    }

    // ===== تحميل الشريط السفلي =====
    function loadBottomBar() {
      const bottomBar = document.getElementById('bottomImageBar');
      if (!bottomBar) return;
      
      bottomBar.innerHTML = bottomBarImages.map((src, index) => `
        <div class="bottom-image-item">
          <img src="${src}" alt="صورة ${index + 1}" loading="lazy">
        </div>
      `).join('');
    }

    // ===== عرض شبكة المنتجات المخصصة =====
    function renderCustomProductsGrid(gridId, productNames) {
      const grid = document.getElementById(gridId);
      if (!grid) return;
      
      // البحث عن المنتجات في قائمة allProducts بناءً على الأسماء
      let productsToShow = productNames.map(productName => {
        return sortedProducts.find(product => 
          product.name.toLowerCase().includes(productName.toLowerCase())
        );
      }).filter(product => product);
      
      // إذا لم يتم العثور على منتجات، استخدم بعض المنتجات الافتراضية
      if (productsToShow.length === 0) {
        switch(gridId) {
          case 'bestSellingProducts':
            productsToShow = sortedProducts
              .filter(p => p.tags.includes("bestSelling"))
              .slice(0, 4);
            break;
          case 'discountedProducts':
            productsToShow = sortedProducts
              .filter(p => p.oldPrice && p.tags.includes("discounted"))
              .slice(0, 4);
            break;
          case 'comingSoonProducts':
            productsToShow = sortedProducts
              .filter(p => p.availability === 'comingSoon')
              .slice(0, 4);
            break;
        }
      }
      
      if (productsToShow.length === 0) {
        grid.innerHTML = `
          <div style="grid-column: 1 / -1; text-align: center; padding: 50px; color: var(--text-tertiary);">
            <i class="fas fa-box-open" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.3;"></i>
            <h3>لا توجد منتجات في هذا القسم</h3>
          </div>
        `;
        return;
      }
      
      grid.innerHTML = productsToShow.slice(0, 4).map(product => `
        <div class="product-card" data-id="${product.id}">
          <!-- حاوية لأيقونات الحالة مرتبة عموديًا -->
          <div class="product-badges-container">
            ${product.oldPrice ? `<div class="product-badge badge-discount">خصم ${calculateDiscount(product.price, product.oldPrice)}%</div>` : ''}
            ${product.availability === 'comingSoon' ? `<div class="product-badge badge-soon">قريباً</div>` : ''}
            ${product.availability === 'unavailable' ? `<div class="product-badge badge-unavailable">غير متوفر</div>` : ''}
            ${!product.oldPrice && product.availability === 'available' && product.id > 30 ? `<div class="product-badge badge-new">جديد</div>` : ''}
          </div>
          
          <div class="product-image-container">
            <img src="${product.images[0]}" alt="${product.name}" class="product-image" loading="lazy">
          </div>
          
          <div class="product-content">
            <h3 class="product-title">${product.name}</h3>
            
            <div class="product-meta">
              <span class="product-brand">${product.brand}</span>
              <span class="product-condition condition-${product.condition.replace(' ', '-')}">${product.condition}</span>
            </div>
            
            <div class="product-price">
              <span class="current-price">${formatPrice(product.price)}</span>
              ${product.oldPrice ? `
                <span class="old-price">${formatPrice(product.oldPrice)}</span>
                <span class="discount-percent">-${calculateDiscount(product.price, product.oldPrice)}%</span>
              ` : ''}
            </div>
            
            <div class="product-actions">
              <button class="btn-add-cart" data-id="${product.id}" onclick="event.stopPropagation(); addToCart(${product.id})" ${product.availability !== 'available' ? 'disabled' : ''}>
                <i class="fas fa-cart-plus"></i>
                ${product.availability === 'available' ? 'أضف إلى السلة' : 
                  product.availability === 'comingSoon' ? 'قريباً' : 'غير متوفر'}
              </button>
            </div>
          </div>
        </div>
      `).join('');
      
      // إضافة مستمعي الأحداث لبطاقات المنتجات
      document.querySelectorAll(`#${gridId} .product-card`).forEach(card => {
        card.addEventListener('click', function() {
          const productId = parseInt(this.dataset.id);
          showProductModal(productId);
        });
      });
    }

    // ===== عرض جميع المنتجات =====
    function showAllProducts(sectionTitle = 'جميع المنتجات') {
      // إخفاء الصفحة الرئيسية
      document.querySelector('.main-content').style.display = 'none';
      
      // إظهار صفحة جميع المنتجات
      document.getElementById('allProductsPage').classList.add('active');
      document.getElementById('allProductsTitle').textContent = sectionTitle;
      
      // عرض جميع المنتجات
      renderAllProducts();
      
      // التمرير لأعلى الصفحة
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ===== عرض الصفحة الرئيسية =====
    function showMainPage() {
      // إخفاء صفحة جميع المنتجات
      document.getElementById('allProductsPage').classList.remove('active');
      
      // إظهار الصفحة الرئيسية
      document.querySelector('.main-content').style.display = 'block';
      
      // التمرير لأعلى الصفحة
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ===== عرض جميع المنتجات في صفحة واحدة =====
    function renderAllProducts() {
      const grid = document.getElementById('allProductsGrid');
      if (!grid) return;
      
      // ترتيب المنتجات كما في الصفحة الرئيسية
      const productsToShow = sortedProducts;
      
      grid.innerHTML = productsToShow.map(product => `
        <div class="product-card" data-id="${product.id}">
          <!-- حاوية لأيقونات الحالة مرتبة عموديًا -->
          <div class="product-badges-container">
            ${product.oldPrice ? `<div class="product-badge badge-discount">خصم ${calculateDiscount(product.price, product.oldPrice)}%</div>` : ''}
            ${product.availability === 'comingSoon' ? `<div class="product-badge badge-soon">قريباً</div>` : ''}
            ${product.availability === 'unavailable' ? `<div class="product-badge badge-unavailable">غير متوفر</div>` : ''}
            ${!product.oldPrice && product.availability === 'available' && product.id > 30 ? `<div class="product-badge badge-new">جديد</div>` : ''}
          </div>
          
          <div class="product-image-container">
            <img src="${product.images[0]}" alt="${product.name}" class="product-image" loading="lazy">
          </div>
          
          <div class="product-content">
            <h3 class="product-title">${product.name}</h3>
            
            <div class="product-meta">
              <span class="product-brand">${product.brand}</span>
              <span class="product-condition condition-${product.condition.replace(' ', '-')}">${product.condition}</span>
            </div>
            
            <div class="product-price">
              <span class="current-price">${formatPrice(product.price)}</span>
              ${product.oldPrice ? `
                <span class="old-price">${formatPrice(product.oldPrice)}</span>
                <span class="discount-percent">-${calculateDiscount(product.price, product.oldPrice)}%</span>
              ` : ''}
            </div>
            
            <div class="product-actions">
              <button class="btn-add-cart" data-id="${product.id}" onclick="event.stopPropagation(); addToCart(${product.id})" ${product.availability !== 'available' ? 'disabled' : ''}>
                <i class="fas fa-cart-plus"></i>
                ${product.availability === 'available' ? 'أضف إلى السلة' : 
                  product.availability === 'comingSoon' ? 'قريباً' : 'غير متوفر'}
              </button>
            </div>
          </div>
        </div>
      `).join('');
      
      // إضافة مستمعي الأحداث لبطاقات المنتجات
      document.querySelectorAll('#allProductsGrid .product-card').forEach(card => {
        card.addEventListener('click', function() {
          const productId = parseInt(this.dataset.id);
          showProductModal(productId);
        });
      });
    }

    // ===== التمرير في الشريط السفلي =====
    function scrollBottomBar(direction) {
      const track = document.getElementById('bottomImageBar');
      if (!track) return;
      
      const scrollAmount = 250;
      
      if (direction === 'left') {
        track.scrollLeft += scrollAmount;
      } else {
        track.scrollLeft -= scrollAmount;
      }
    }

    // ===== إدارة السلة =====
    function addToCart(productId) {
      const product = sortedProducts.find(p => p.id === productId);
      if (!product) return;
      
      // التحقق من توفر المنتج
      if (product.availability !== 'available') {
        showNotification('هذا المنتج غير متوفر حالياً للشراء', 'warning');
        return;
      }
      
      // البحث إذا كان المنتج موجود في السلة
      const existingItem = cart.find(item => item.id === productId);
      
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({
          ...product,
          quantity: 1
        });
      }
      
      // حفظ السلة
      saveCart();
      
      // تحديث العداد
      updateCartCount();
      
      // عرض رسالة نجاح
      showNotification(`تم إضافة ${product.name} إلى السلة`, 'success');
      
      // تأثير إضافة للسلة
      createCartAnimation(product);
    }

    function removeFromCart(productId) {
      cart = cart.filter(item => item.id !== productId);
      saveCart();
      updateCartCount();
      renderCartModal();
      showNotification('تم إزالة المنتج من السلة', 'success');
    }

    function updateQuantity(productId, change) {
      const item = cart.find(item => item.id === productId);
      if (!item) return;
      
      item.quantity += change;
      
      if (item.quantity <= 0) {
        removeFromCart(productId);
      } else {
        saveCart();
        updateCartCount();
        renderCartModal();
      }
    }

    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function updateCartCount() {
      const cartCount = document.getElementById('cartCount');
      const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
      cartCount.textContent = totalItems;
    }

    function renderCartModal() {
      const cartItemsContainer = document.getElementById('cartItems');
      const cartTotal = document.getElementById('cartTotal');
      
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = `
          <div class="cart-empty">
            <i class="fas fa-shopping-cart"></i>
            <h3>سلة التسوق فارغة</h3>
            <p>أضف بعض المنتجات إلى سلة التسوق لرؤيتها هنا</p>
          </div>
        `;
        cartTotal.textContent = '0 $';
        return;
      }
      
      // حساب المجموع الكلي
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      
      // عرض العناصر
      cartItemsContainer.innerHTML = cart.map(item => `
        <div class="cart-item">
          <img src="${item.images[0]}" alt="${item.name}" class="cart-item-image">
          
          <div class="cart-item-details">
            <h3 class="cart-item-name">${item.name}</h3>
            <div class="cart-item-price">${formatPrice(item.price)}</div>
          </div>
          
          <div class="cart-item-actions">
            <div class="quantity-control">
              <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
              <span class="quantity-value">${item.quantity}</span>
              <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
            </div>
            <button class="remove-btn" onclick="removeFromCart(${item.id})">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>
      `).join('');
      
      // تحديث المجموع الكلي
      cartTotal.textContent = `${formatPrice(total)}`;
    }

    // ===== المودالات =====
    function showProductModal(productId) {
      const product = sortedProducts.find(p => p.id === productId);
      if (!product) return;
      
      currentProductModalImage[productId] = product.images[0];
      
      const modalContent = document.getElementById('productModalContent');
      modalContent.innerHTML = `
        <div class="modal-product-images">
          <img src="${product.images[0]}" alt="${product.name}" class="main-product-image" id="mainProductImage">
          <div class="product-thumbnails">
            ${product.images.map((img, index) => `
              <img src="${img}" alt="صورة ${index + 1}" class="product-thumbnail ${index === 0 ? 'active' : ''}" 
                   onclick="changeProductImage(${productId}, '${img}', this)">
            `).join('')}
          </div>
        </div>
        
        <div class="modal-product-details">
          <h2>${product.name}</h2>
          
          <div class="modal-product-meta">
            <span class="product-brand">${product.brand}</span>
            <span class="product-condition condition-${product.condition.replace(' ', '-')}">${product.condition}</span>
            ${product.oldPrice ? `<span class="discount-percent">-${calculateDiscount(product.price, product.oldPrice)}%</span>` : ''}
          </div>
          
          <div class="modal-price">${formatPrice(product.price)}</div>
          
          <div class="modal-description">
            <p>${product.description}</p>
          </div>
          
          ${product.specs ? `
            <div class="modal-specs">
              <h3 class="specs-title">المواصفات الفنية</h3>
              <ul class="specs-list">
                ${Object.entries(product.specs).map(([key, value]) => `
                  <li class="spec-item">
                    <span class="spec-label">${key}</span>
                    <span class="spec-value">${value}</span>
                  </li>
                `).join('')}
              </ul>
            </div>
          ` : ''}
          
          <div class="modal-actions">
            <button class="btn-modal btn-primary" onclick="addToCart(${product.id}); closeModal('productModal')" ${product.availability !== 'available' ? 'disabled' : ''}>
              <i class="fas fa-cart-plus"></i>
              ${product.availability === 'available' ? 'أضف إلى السلة' : 
                product.availability === 'comingSoon' ? 'قريباً' : 'غير متوفر'}
            </button>
            <button class="btn-modal btn-secondary" onclick="closeModal('productModal')">
              <i class="fas fa-times"></i>
              إغلاق
            </button>
          </div>
        </div>
      `;
      
      openModal('productModal');
    }

    function changeProductImage(productId, imageUrl, element) {
      const mainImage = document.getElementById('mainProductImage');
      if (mainImage) {
        mainImage.src = imageUrl;
        currentProductModalImage[productId] = imageUrl;
        
        // تحديث الصور المصغرة النشطة
        document.querySelectorAll('.product-thumbnail').forEach(thumb => {
          thumb.classList.remove('active');
        });
        element.classList.add('active');
      }
    }

    // ===== إدارة المودالات =====
    function openModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // إذا كان مودال السلة، قم بعرض محتواه
        if (modalId === 'cartModal') {
          renderCartModal();
        }
      }
    }

    function closeModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
      }
    }

    // ===== النماذج =====
    function setupEventListeners() {
      // فتح مودال السلة
      document.getElementById('cartBtn').addEventListener('click', () => openModal('cartModal'));
      
      // زر الشعار للعودة للصفحة الرئيسية
      document.getElementById('logoLink').addEventListener('click', function(e) {
        e.preventDefault();
        showMainPage();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
      
      // زر الرجوع للصفحة الرئيسية
      document.getElementById('backToHome').addEventListener('click', function() {
        showMainPage();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
      
      // إغلاق المودالات
      document.getElementById('closeProductModal').addEventListener('click', () => closeModal('productModal'));
      document.getElementById('closeCartModal').addEventListener('click', () => closeModal('cartModal'));
      document.getElementById('closeOrderModal').addEventListener('click', () => closeModal('orderModal'));
      document.getElementById('continueShoppingBtn').addEventListener('click', () => closeModal('cartModal'));
      
      // متابعة الشراء مع التحقق من الحد اليومي
      document.getElementById('checkoutBtn').addEventListener('click', () => {
        if (cart.length === 0) {
          showNotification('سلة التسوق فارغة', 'warning');
          return;
        }
        
        // التحقق من الحد اليومي للطلبات
        if (!canPlaceOrder()) {
          showNotification(`لقد وصلت إلى الحد الأقصى للطلبات اليومية (5 طلبات). يرجى المحاولة مرة أخرى غدًا.`, 'error');
          return;
        }
        
        const remainingOrders = getRemainingOrders();
        showNotification(`يمكنك تقديم ${remainingOrders} طلب${remainingOrders > 1 ? 'ات' : ''} أخرى اليوم`, 'info');
        
        closeModal('cartModal');
        setTimeout(() => openModal('orderModal'), 300);
      });
      
      // نموذج الدعم
      document.getElementById('supportForm').addEventListener('submit', handleSupportForm);
      
      // نموذج الطلب مع التحقق من الحد اليومي
      document.getElementById('orderForm').addEventListener('submit', handleOrderForm);
      
      // إغلاق المودال عند النقر خارجها
      document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', (e) => {
          if (e.target === modal) {
            closeModal(modal.id);
          }
        });
      });
      
      // فلاتر صفحة جميع المنتجات
      const allProductsSearch = document.getElementById('allProductsSearchInput');
      const allProductsCategory = document.getElementById('allProductsCategoryFilter');
      const allProductsBrand = document.getElementById('allProductsBrandFilter');
      const allProductsCondition = document.getElementById('allProductsConditionFilter');
      
      if (allProductsSearch) allProductsSearch.addEventListener('input', filterAllProducts);
      if (allProductsCategory) allProductsCategory.addEventListener('change', filterAllProducts);
      if (allProductsBrand) allProductsBrand.addEventListener('change', filterAllProducts);
      if (allProductsCondition) allProductsCondition.addEventListener('change', filterAllProducts);
    }

    // ===== فلترة جميع المنتجات =====
    function filterAllProducts() {
      const searchTerm = document.getElementById('allProductsSearchInput').value.toLowerCase();
      const category = document.getElementById('allProductsCategoryFilter').value;
      const brand = document.getElementById('allProductsBrandFilter').value;
      const condition = document.getElementById('allProductsConditionFilter').value;
      
      let filteredProducts = sortedProducts;
      
      // فلتر البحث
      if (searchTerm) {
        filteredProducts = filteredProducts.filter(product => 
          product.name.toLowerCase().includes(searchTerm) ||
          product.description.toLowerCase().includes(searchTerm) ||
          product.brand.toLowerCase().includes(searchTerm)
        );
      }
      
      // فلتر الفئة
      if (category) {
        filteredProducts = filteredProducts.filter(product => product.category === category);
      }
      
      // فلتر الماركة
      if (brand) {
        filteredProducts = filteredProducts.filter(product => product.brand === brand);
      }
      
      // فلتر الحالة
      if (condition) {
        filteredProducts = filteredProducts.filter(product => product.condition === condition);
      }
      
      // عرض المنتجات المصفاة
      const grid = document.getElementById('allProductsGrid');
      if (!grid) return;
      
      if (filteredProducts.length === 0) {
        grid.innerHTML = `
          <div style="grid-column: 1 / -1; text-align: center; padding: 50px; color: var(--text-tertiary);">
            <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.3;"></i>
            <h3>لم يتم العثور على منتجات</h3>
            <p>جرب البحث بكلمات أخرى أو قم بتعديل الفلاتر</p>
          </div>
        `;
        return;
      }
      
      grid.innerHTML = filteredProducts.map(product => `
        <div class="product-card" data-id="${product.id}">
          <!-- حاوية لأيقونات الحالة مرتبة عموديًا -->
          <div class="product-badges-container">
            ${product.oldPrice ? `<div class="product-badge badge-discount">خصم ${calculateDiscount(product.price, product.oldPrice)}%</div>` : ''}
            ${product.availability === 'comingSoon' ? `<div class="product-badge badge-soon">قريباً</div>` : ''}
            ${product.availability === 'unavailable' ? `<div class="product-badge badge-unavailable">غير متوفر</div>` : ''}
            ${!product.oldPrice && product.availability === 'available' && product.id > 30 ? `<div class="product-badge badge-new">جديد</div>` : ''}
          </div>
          
          <div class="product-image-container">
            <img src="${product.images[0]}" alt="${product.name}" class="product-image" loading="lazy">
          </div>
          
          <div class="product-content">
            <h3 class="product-title">${product.name}</h3>
            
            <div class="product-meta">
              <span class="product-brand">${product.brand}</span>
              <span class="product-condition condition-${product.condition.replace(' ', '-')}">${product.condition}</span>
            </div>
            
            <div class="product-price">
              <span class="current-price">${formatPrice(product.price)}</span>
              ${product.oldPrice ? `
                <span class="old-price">${formatPrice(product.oldPrice)}</span>
                <span class="discount-percent">-${calculateDiscount(product.price, product.oldPrice)}%</span>
              ` : ''}
            </div>
            
            <div class="product-actions">
              <button class="btn-add-cart" data-id="${product.id}" onclick="event.stopPropagation(); addToCart(${product.id})" ${product.availability !== 'available' ? 'disabled' : ''}>
                <i class="fas fa-cart-plus"></i>
                ${product.availability === 'available' ? 'أضف إلى السلة' : 
                  product.availability === 'comingSoon' ? 'قريباً' : 'غير متوفر'}
              </button>
            </div>
          </div>
        </div>
      `).join('');
      
      // إضافة مستمعي الأحداث لبطاقات المنتجات
      document.querySelectorAll('#allProductsGrid .product-card').forEach(card => {
        card.addEventListener('click', function() {
          const productId = parseInt(this.dataset.id);
          showProductModal(productId);
        });
      });
    }

    async function handleSupportForm(e) {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const data = {
        name: formData.get('name'),
        phone: formData.get('phone'),
        message: formData.get('message'),
        date: new Date().toLocaleString('ar-LY')
      };
      
      try {
        // إرسال البريد الإلكتروني
        await emailjs.send('service_e0irzhi', 'template_2d5uee9', {
          to_email: 'ans707kat@gmail.com',
          subject: 'طلب دعم جديد - سويتشز',
          customer_name: data.name,
          customer_phone: data.phone,
          support_issue: data.message,
          message: `طلب دعم جديد من ${data.name} - ${data.phone}\n\nالرسالة: ${data.message}\n\nالتاريخ: ${data.date}`
        });
        
        showNotification('تم إرسال رسالتك بنجاح، سنتواصل معك قريباً', 'success');
        e.target.reset();
      } catch (error) {
        console.error('Error sending support email:', error);
        showNotification('حدث خطأ أثناء إرسال الرسالة، يرجى المحاولة مرة أخرى', 'error');
      }
    }

    async function handleOrderForm(e) {
      e.preventDefault();
      
      if (cart.length === 0) {
        showNotification('سلة التسوق فارغة', 'error');
        return;
      }
      
      // التحقق من الحد اليومي للطلبات
      if (!canPlaceOrder()) {
        showNotification(`لقد وصلت إلى الحد الأقصى للطلبات اليومية (5 طلبات). يرجى المحاولة مرة أخرى غدًا.`, 'error');
        return;
      }
      
      // الحصول على رقم الهاتف من النموذج
      const phoneInput = document.getElementById('orderPhone');
      const phoneNumber = phoneInput.value.trim();
      
      // التحقق من صحة رقم الهاتف
      const phoneRegex = /^(092|091|094|093)[0-9]{7}$/;
      if (!phoneRegex.test(phoneNumber)) {
        showNotification('رقم الهاتف غير صحيح. يجب أن يبدأ بـ 092، 091، 094، أو 093 ويتكون من 10 أرقام.', 'error');
        phoneInput.focus();
        return;
      }
      
      // زيادة عداد الطلبات
      if (!incrementOrderCount()) {
        showNotification('حدث خطأ في نظام الطلبات', 'error');
        return;
      }
      
      const formData = new FormData(e.target);
      const orderDetails = cart.map(item => 
        `${item.name} (${item.quantity} × ${formatPrice(item.price)})`
      ).join('\n');
      
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      
      const data = {
        name: formData.get('name'),
        phone: formData.get('phone'),
        address: formData.get('address'),
        notes: formData.get('notes'),
        orderDetails: orderDetails,
        total: formatPrice(total),
        date: new Date().toLocaleString('ar-LY')
      };
      
      try {
        // إرسال البريد الإلكتروني
        await emailjs.send('service_e0irzhi', 'template_2d5uee9', {
          to_email: 'ans707kat@gmail.com',
          subject: `طلب جديد - ${data.name}`,
          customer_name: data.name,
          customer_phone: data.phone,
          customer_address: data.address,
          customer_notes: data.notes || 'لا يوجد',
          order_items: data.orderDetails,
          order_total: data.total,
          message: `طلب جديد من ${data.name}\n\nرقم الهاتف: ${data.phone}\nالعنوان: ${data.address}\n${data.notes ? `الملاحظات: ${data.notes}\n` : ''}\nتفاصيل الطلب:\n${data.orderDetails}\n\nالمجموع: ${data.total}\n\nالتاريخ: ${data.date}`
        });
        
        showNotification('تم تأكيد طلبك بنجاح، سنتواصل معك قريباً', 'success');
        
        // تفريغ السلة
        cart = [];
        saveCart();
        updateCartCount();
        
        // إغلاق المودال وإعادة تعيين النموذج
        closeModal('orderModal');
        e.target.reset();
        
        // عرض عدد الطلبات المتبقية
        const remainingOrders = getRemainingOrders();
        if (remainingOrders > 0) {
          setTimeout(() => {
            showNotification(`يمكنك تقديم ${remainingOrders} طلب${remainingOrders > 1 ? 'ات' : ''} أخرى اليوم`, 'info');
          }, 1500);
        }
      } catch (error) {
        console.error('Error sending order email:', error);
        showNotification('حدث خطأ أثناء تأكيد الطلب، يرجى المحاولة مرة أخرى', 'error');
      }
    }

    // ===== دوال مساعدة =====
    function formatPrice(price) {
      return `${price.toLocaleString('ar-LY')}$`;
    }

    function calculateDiscount(currentPrice, oldPrice) {
      return Math.round(((oldPrice - currentPrice) / oldPrice) * 100);
    }

    function showNotification(message, type = 'success') {
      // إزالة أي تنبيهات سابقة
      document.querySelectorAll('.notification').forEach(notification => {
        notification.remove();
      });
      
      // إنشاء التنبيه الجديد
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
        <span>${message}</span>
      `;
      
      document.body.appendChild(notification);
      
      // إزالة التنبيه بعد 3 ثوان
      setTimeout(() => {
        if (notification.parentNode) {
          notification.style.animation = 'fadeOut 0.3s ease forwards';
          setTimeout(() => {
            if (notification.parentNode) {
              notification.remove();
            }
          }, 300);
        }
      }, 3000);
    }

    function createCartAnimation(product) {
      // إنشاء عنصر الرسوم المتحركة
      const animation = document.createElement('div');
      animation.className = 'cart-animation';
      
      // إنشاء صورة المنتج
      const img = document.createElement('img');
      img.src = product.images[0];
      img.style.width = '50px';
      img.style.height = '50px';
      img.style.borderRadius = '50%';
      img.style.objectFit = 'cover';
      img.style.boxShadow = '0 3px 10px rgba(0,0,0,0.2)';
      animation.appendChild(img);
      
      // تحديد مواقع البداية والنهاية
      const productCard = document.querySelector(`[data-id="${product.id}"] .btn-add-cart`);
      const cartBtn = document.getElementById('cartBtn');
      
      if (!productCard || !cartBtn) return;
      
      const startRect = productCard.getBoundingClientRect();
      const endRect = cartBtn.getBoundingClientRect();
      
      const startX = startRect.left + startRect.width / 2;
      const startY = startRect.top + startRect.height / 2;
      const endX = endRect.left + endRect.width / 2;
      const endY = endRect.top + endRect.height / 2;
      
      // تعيين الموضع الأولي
      animation.style.position = 'fixed';
      animation.style.left = startX + 'px';
      animation.style.top = startY + 'px';
      animation.style.zIndex = '10000';
      
      document.body.appendChild(animation);
      
      // بدء الرسوم المتحركة
      requestAnimationFrame(() => {
        animation.style.transition = 'all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
        animation.style.left = endX + 'px';
        animation.style.top = endY + 'px';
        animation.style.transform = 'scale(0.2)';
        animation.style.opacity = '0.5';
      });
      
      // إزالة العنصر بعد الانتهاء
      setTimeout(() => {
        if (animation.parentNode) {
          animation.remove();
        }
      }, 800);
    }

    // ===== جعل الدوال متاحة عالمياً =====
    window.addToCart = addToCart;
    window.removeFromCart = removeFromCart;
    window.updateQuantity = updateQuantity;
    window.showProductModal = showProductModal;
    window.changeProductImage = changeProductImage;
    window.closeModal = closeModal;
    window.showAllProducts = showAllProducts;
    window.showMainPage = showMainPage;
    window.scrollBottomBar = scrollBottomBar;
  </script>
</body>
</html>